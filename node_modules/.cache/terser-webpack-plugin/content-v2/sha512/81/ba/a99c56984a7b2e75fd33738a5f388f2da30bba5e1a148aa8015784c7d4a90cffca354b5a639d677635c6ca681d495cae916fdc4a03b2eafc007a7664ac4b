{"map":"{\"version\":3,\"sources\":[\"js/chunk-2d0b964e.c131bd89.js\"],\"names\":[\"window\",\"push\",\"3380\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"_m\",\"staticRenderFns\",\"staticClass\",\"attrs\",\"id\",\"objectSpread2\",\"asyncToGenerator\",\"vuex_esm\",\"HeritageHotMapvue_type_script_lang_js_\",\"components\",\"data\",\"map\",\"district\",\"polygons\",\"dataList1\",\"dataList2\",\"dataList3\",\"layer\",\"list\",\"created\",\"Object\",\"regeneratorRuntime\",\"mark\",\"_callee\",\"wrap\",\"_context\",\"prev\",\"next\",\"stop\",\"mounted\",\"initMap\",\"drawBounds\",\"drawHotMap\",\"computed\",\"methods\",\"AMap\",\"Map\",\"resizeEnable\",\"zoom\",\"zooms\",\"center\",\"viewMode\",\"lang\",\"mapStyle\",\"infoWindow\",\"opts\",\"subdistrict\",\"extensions\",\"level\",\"DistrictSearch\",\"setLevel\",\"_this\",\"search\",\"status\",\"result\",\"outer\",\"LngLat\",\"holes\",\"districtList\",\"boundaries\",\"pathArray\",\"apply\",\"polygon\",\"Polygon\",\"pathL\",\"strokeColor\",\"strokeWeight\",\"fillColor\",\"fillOpacity\",\"setPath\",\"add\",\"_this2\",\"_callee2\",\"res1\",\"res2\",\"res3\",\"i\",\"m\",\"_i\",\"_context2\",\"$message\",\"message\",\"$axios\",\"get\",\"sent\",\"length\",\"coordinate\",\"count\",\"Loca\",\"HeatmapLayer\",\"console\",\"log\",\"setData\",\"lnglat\",\"value\",\"setOptions\",\"style\",\"radius\",\"color\",\"0.5\",\"0.65\",\"0.7\",\"0.9\",\"1\",\"views_HeritageHotMapvue_type_script_lang_js_\",\"componentNormalizer\",\"component\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0b964e\"],{3380:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"heritage-Hot-Map\"},[a(\"div\",{staticClass:\"heritage-industry\"},[a(\"div\",{staticClass:\"container\",attrs:{id:\"container\"}})])])}],r=a(\"5530\"),s=a(\"1da1\"),o=(a(\"d81d\"),a(\"ac1f\"),a(\"841c\"),a(\"96cf\"),a(\"2f62\")),c={components:{},data:function(){return{map:\"\",district:null,polygons:[],dataList1:[],dataList2:[],dataList3:[],layer:null,list:[]}},created:function(){return Object(s[\"a\"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case\"end\":return t.stop()}}),t)})))()},mounted:function(){this.initMap(),this.drawBounds(),this.drawHotMap()},computed:Object(r[\"a\"])({},Object(o[\"c\"])([\"lang\"])),methods:{initMap:function(){this.map=new AMap.Map(\"container\",{resizeEnable:!0,zoom:10,zooms:[6.5,18],center:[115.464523,38.874476],viewMode:\"3D\",lang:this.lang,mapStyle:\"amap://styles/db9efe6a1745ac24b7269b862f359536\",infoWindow:null})},drawBounds:function(){if(!this.district){var t={subdistrict:0,extensions:\"all\",level:\"province\"};this.district=new AMap.DistrictSearch(t)}this.district.setLevel(\"province\");var e=this;this.district.search(\"河北省\",(function(t,a){var n=[new AMap.LngLat(-360,90,!0),new AMap.LngLat(-360,-90,!0),new AMap.LngLat(360,-90,!0),new AMap.LngLat(360,90,!0)],i=a.districtList[0].boundaries,r=[n];r.push.apply(r,i);var s=new AMap.Polygon({pathL:r,strokeColor:\"#F9D5A7\",strokeWeight:1,fillColor:\"#F9D5A7\",fillOpacity:.2});s.setPath(r),e.map.add(s)}))},drawHotMap:function(){var t=this;return Object(s[\"a\"])(regeneratorRuntime.mark((function e(){var a,n,i,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$message({message:\"工业遗产建筑密度热力图绘制中，初次加载可能用时较长\"}),e.next=3,t.$axios.get(\"/getHeritageMainData/getHeritageMainData\");case 3:return a=e.sent,t.dataList1=a.data.data,e.next=7,t.$axios.get(\"/getHeritageMuseum/getHeritageMuseum\");case 7:return n=e.sent,t.dataList2=n.data.data,e.next=11,t.$axios.get(\"/getHeritageTourism/getHeritageTourism\");case 11:for(i=e.sent,t.dataList3=i.data.data,r=0;r<t.dataList1.length;r++)t.list.push({coordinate:t.dataList1[r].coordinate,count:r+1});for(s=0;s<t.dataList2.length;s++)t.list.push({coordinate:t.dataList2[s].coordinate,count:s+1});for(o=0;o<t.dataList3.length;o++)t.list.push({coordinate:t.dataList3[o].coordinate,count:o+1});t.layer=new Loca.HeatmapLayer({map:t.map}),console.log(t.list),t.layer.setData(t.list,{lnglat:\"coordinate\",value:\"count\"}),t.layer.setOptions({style:{radius:40,color:{.5:\"#2c7bb6\",.65:\"#abd9e9\",.7:\"#ffffbf\",.9:\"#fde468\",1:\"#d7191c\"}}}),t.layer.render();case 21:case\"end\":return e.stop()}}),e)})))()}}},d=c,l=a(\"2877\"),u=Object(l[\"a\"])(d,n,i,!1,null,null,null);e[\"default\"]=u.exports}}]);","extractedComments":[]}