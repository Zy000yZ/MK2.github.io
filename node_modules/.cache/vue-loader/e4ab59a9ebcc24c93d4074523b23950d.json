{"remainingRequest":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\DataManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\DataManage.vue","mtime":1638751857459},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637922542348},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1637922542317},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\babel-loader\\lib\\index.js","mtime":1637922545947},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637922542348},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js","mtime":1637922546721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFpblRvcCBmcm9tICIuLi9jb21wb25lbnRzL01haW5Ub3AudnVlIjsNCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgTWFpblRvcCwNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY3RpdmVOYW1lOiAiZmlyc3QiLA0KDQogICAgICB0YWJsZURhdGE6IFtdLA0KDQogICAgICBzZWFyY2hTdHI6ICIiLA0KICAgIH07DQogIH0sDQoNCiAgYXN5bmMgY3JlYXRlZCgpIHsNCiAgICAvLyDliJ3lp4vljJbmlbDmja4NCiAgICB2YXIgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCIvZ2V0SGVyaXRhZ2VNYWluRGF0YS9nZXRIZXJpdGFnZU1haW5EYXRhIik7DQogICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhOw0KICAgIHRoaXMuY2hhbmdlaW5zdHJ5VHlwZSgib25lIik7DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbImluc3RyeVR5cGUiXSksDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcE11dGF0aW9ucyhbImNoYW5nZWluc3RyeVR5cGUiLCAiZ2V0Q29vcmRpbmF0ZSJdKSwNCiAgICBhZGRIZXJpdGFnZSgpIHsNCiAgICAgIHRoaXMuZ2V0Q29vcmRpbmF0ZShbXSk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2hlcml0YWdlL2FkZC9hZGQiKTsNCiAgICB9LA0KDQogICAgYXN5bmMgY2hhbmdlRGF0YVR5cGUoKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyh0YWIsIGV2ZW50KTsNCiAgICAgIGlmICh0aGlzLmFjdGl2ZU5hbWUgPT09ICJmaXJzdCIpIHsNCiAgICAgICAgdmFyIHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgNCiAgICAgICAgICAiL2dldEhlcml0YWdlTWFpbkRhdGEvZ2V0SGVyaXRhZ2VNYWluRGF0YSINCiAgICAgICAgKTsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICB0aGlzLmNoYW5nZWluc3RyeVR5cGUoIm9uZSIpOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZU5hbWUgPT09ICJzZWNvbmQiKSB7DQogICAgICAgIHZhciByZXNNdXMgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoDQogICAgICAgICAgIi9nZXRIZXJpdGFnZU11c2V1bS9nZXRIZXJpdGFnZU11c2V1bSINCiAgICAgICAgKTsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNNdXMuZGF0YS5kYXRhOw0KICAgICAgICB0aGlzLmNoYW5nZWluc3RyeVR5cGUoInR3byIpOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZU5hbWUgPT09ICJ0aGlyZCIpIHsNCiAgICAgICAgdmFyIHJlc1RpciA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgNCiAgICAgICAgICAiL2dldEhlcml0YWdlVG91cmlzbS9nZXRIZXJpdGFnZVRvdXJpc20iDQogICAgICAgICk7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzVGlyLmRhdGEuZGF0YTsNCiAgICAgICAgdGhpcy5jaGFuZ2VpbnN0cnlUeXBlKCJ0aHJlZSIpOw0KICAgICAgfQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YWJsZURhdGEpOw0KICAgIH0sDQoNCiAgICAvLyDooajmoLxzdGFydA0KICAgIC8vIOafpeeci+ivpuaDhQ0KICAgIGdldE1haW4ocm93KSB7DQogICAgICBjb25zb2xlLmxvZyhyb3cpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9oZXJpdGFnZS9pbmR1c3RyeS9tYWluLyIgKyByb3cuX2lkKTsNCiAgICB9LA0KDQogICAgLy8g57yW6L6R5oyJ6ZKuDQogICAgZWRpdE1haW4ocm93KSB7DQogICAgICBjb25zb2xlLmxvZyhyb3cpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9oZXJpdGFnZS9hZGQvIiArIHJvdy5faWQpOw0KICAgIH0sDQoNCiAgICAvLyDmqKHns4rmn6Xor6LmjInpkq4NCiAgICBhc3luYyBzZWFyY2hDbGljaygpIHsNCiAgICAgIGlmICh0aGlzLnNlYXJjaFN0cikgew0KICAgICAgICAvLyB0aGlzLmNoYW5nZURhdGFUeXBlKCk7DQoNCiAgICAgICAgdmFyIHJlczEgPSAiIjsNCiAgICAgICAgaWYgKHRoaXMuaW5zdHJ5VHlwZSA9PT0gIm9uZSIpIHsNCiAgICAgICAgICByZXMxID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KA0KICAgICAgICAgICAgIi9nZXRIZXJpdGFnZU1haW5EYXRhL2dldEhlcml0YWdlTWFpbkRhdGEiDQogICAgICAgICAgKTsNCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmluc3RyeVR5cGUgPT09ICJ0d28iKSB7DQogICAgICAgICAgcmVzMSA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiL2dldEhlcml0YWdlTXVzZXVtL2dldEhlcml0YWdlTXVzZXVtIik7DQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnN0cnlUeXBlID09PSAidGhyZWUiKSB7DQogICAgICAgICAgcmVzMSA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgNCiAgICAgICAgICAgICIvZ2V0SGVyaXRhZ2VUb3VyaXNtL2dldEhlcml0YWdlVG91cmlzbSINCiAgICAgICAgICApOw0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMxLmRhdGEuZGF0YTsNCg0KICAgICAgICB2YXIgbmV3dGFibGVEYXRhID0gdGhpcy50YWJsZURhdGEuZmlsdGVyKChlbGUpID0+DQogICAgICAgICAgZWxlLm5hbWUuaW5jbHVkZXModGhpcy5zZWFyY2hTdHIpDQogICAgICAgICk7DQoNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSBuZXd0YWJsZURhdGE7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB2YXIgcmVzID0gIiI7DQogICAgICAgIGlmICh0aGlzLmluc3RyeVR5cGUgPT09ICJvbmUiKSB7DQogICAgICAgICAgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KA0KICAgICAgICAgICAgIi9nZXRIZXJpdGFnZU1haW5EYXRhL2dldEhlcml0YWdlTWFpbkRhdGEiDQogICAgICAgICAgKTsNCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmluc3RyeVR5cGUgPT09ICJ0d28iKSB7DQogICAgICAgICAgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCIvZ2V0SGVyaXRhZ2VNdXNldW0vZ2V0SGVyaXRhZ2VNdXNldW0iKTsNCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmluc3RyeVR5cGUgPT09ICJ0aHJlZSIpIHsNCiAgICAgICAgICByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoIi9nZXRIZXJpdGFnZVRvdXJpc20vZ2V0SGVyaXRhZ2VUb3VyaXNtIik7DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmRhdGE7DQogICAgICB9DQoNCiAgICAgIC8vIGNvbnNvbGUubG9nKG5ld3RhYmxlRGF0YSk7DQogICAgfSwNCg0KICAgIGFzeW5jIGRlbE1haW4ocm93KSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhyb3csIHRoaXMuaW5zdHJ5VHlwZSk7DQogICAgICB2YXIgcmVzID0gIiI7DQogICAgICBpZiAodGhpcy5pbnN0cnlUeXBlID09PSAib25lIikgew0KICAgICAgICByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KA0KICAgICAgICAgICIvcmVtb3ZlT25lSGVyaXRhZ2VNYWluRGF0YS9yZW1vdmVPbmVIZXJpdGFnZU1haW5EYXRhIiwNCiAgICAgICAgICByb3cNCiAgICAgICAgKTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbnN0cnlUeXBlID09PSAidHdvIikgew0KICAgICAgICByZXMgPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KA0KICAgICAgICAgICIvcmVtb3ZlT25lSGVyaXRhZ2VNdXNldW0vcmVtb3ZlT25lSGVyaXRhZ2VNdXNldW0iLA0KICAgICAgICAgIHJvdw0KICAgICAgICApOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLmluc3RyeVR5cGUgPT09ICJ0aHJlZSIpIHsNCiAgICAgICAgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgNCiAgICAgICAgICAiL3JlbW92ZU9uZUhlcml0YWdlVG91cmlzbS9yZW1vdmVPbmVIZXJpdGFnZVRvdXJpc20iLA0KICAgICAgICAgIHJvdw0KICAgICAgICApOw0KICAgICAgfQ0KDQogICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICLkv6Hmga/liKDpmaTmiJDlip8iLA0KICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIC8vIOmHjeaWsOiOt+WPluaVsOaNrg0KICAgICAgdmFyIHJlczEgPSAiIjsNCiAgICAgIGlmICh0aGlzLmluc3RyeVR5cGUgPT09ICJvbmUiKSB7DQogICAgICAgIHJlczEgPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoDQogICAgICAgICAgIi9nZXRIZXJpdGFnZU1haW5EYXRhL2dldEhlcml0YWdlTWFpbkRhdGEiDQogICAgICAgICk7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5zdHJ5VHlwZSA9PT0gInR3byIpIHsNCiAgICAgICAgcmVzMSA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiL2dldEhlcml0YWdlTXVzZXVtL2dldEhlcml0YWdlTXVzZXVtIik7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuaW5zdHJ5VHlwZSA9PT0gInRocmVlIikgew0KICAgICAgICByZXMxID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCIvZ2V0SGVyaXRhZ2VUb3VyaXNtL2dldEhlcml0YWdlVG91cmlzbSIpOw0KICAgICAgfQ0KDQogICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlczEuZGF0YS5kYXRhOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["DataManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4NA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"DataManage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <!-- 数据管理 -->\r\n  <div class=\"data-manage\">\r\n    <div class=\"data-manage-top\">\r\n      <MainTop>数据维护 <span class=\"gang\"> / </span> 遗产管理</MainTop>\r\n    </div>\r\n    <div class=\"data-manage-bottom padding15\">\r\n      <div class=\"data-manage-buttons\">\r\n        <!-- 按钮组 -->\r\n        <!-- <el-tag>遗产总数:{{ 1 }}</el-tag> -->\r\n        <span style=\"margin-right: 15px\">\r\n          遗产总数:{{ tableData.length }}\r\n        </span>\r\n        <el-button @click=\"addHeritage\" type=\"primary\" size=\"small\"\r\n          >添加遗产</el-button\r\n        >\r\n\r\n        <el-input\r\n          style=\"width: 300px; margin-left: 15px\"\r\n          placeholder=\"请输入关键词\"\r\n          v-model=\"searchStr\"\r\n          size=\"small\"\r\n          class=\"input-with-select\"\r\n        >\r\n          <el-button\r\n            slot=\"append\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"searchClick\"\r\n          ></el-button>\r\n        </el-input>\r\n        <br />\r\n        <br />\r\n\r\n        <!-- 工业遗产详情及表格 -->\r\n        <el-tabs\r\n          v-model=\"activeName\"\r\n          type=\"border-card\"\r\n          @tab-click=\"changeDataType\"\r\n        >\r\n          <el-tab-pane label=\"工业遗产\" name=\"first\">\r\n            <el-table\r\n              border\r\n              stripe\r\n              :data=\"tableData\"\r\n              style=\"width: 100%\"\r\n              height=\"480\"\r\n            >\r\n              <el-table-column\r\n                prop=\"start\"\r\n                label=\"始建\"\r\n                width=\"60\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column prop=\"name\" label=\"工业遗产名称\" width=\"180\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"address\" label=\"地址\"> </el-table-column>\r\n              <el-table-column\r\n                prop=\"type\"\r\n                align=\"center\"\r\n                label=\"遗产类型\"\r\n                width=\"100\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"addType\"\r\n                width=\"100\"\r\n                align=\"center\"\r\n                label=\"所属分类\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column prop=\"company\" label=\"公司\"> </el-table-column>\r\n\r\n              <el-table-column label=\"操作\" align=\"center\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button\r\n                    @click=\"getMain(scope.row)\"\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    >查看</el-button\r\n                  >\r\n                  <el-button\r\n                    type=\"text\"\r\n                    @click=\"editMain(scope.row)\"\r\n                    size=\"small\"\r\n                    >编辑</el-button\r\n                  >\r\n                  <el-button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    @click=\"delMain(scope.row)\"\r\n                    >删除</el-button\r\n                  >\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"工业博物馆\" name=\"second\">\r\n            <el-table\r\n              border\r\n              stripe\r\n              :data=\"tableData\"\r\n              style=\"width: 100%\"\r\n              height=\"480\"\r\n            >\r\n              <el-table-column\r\n                prop=\"start\"\r\n                label=\"始建\"\r\n                width=\"60\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column prop=\"name\" label=\"工业博物馆名称\" width=\"180\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"address\" label=\"地址\"> </el-table-column>\r\n              <el-table-column\r\n                prop=\"type\"\r\n                align=\"center\"\r\n                label=\"博物馆类型\"\r\n                width=\"100\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"addType\"\r\n                width=\"100\"\r\n                align=\"center\"\r\n                label=\"所属分类\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column prop=\"company\" label=\"公司\"> </el-table-column>\r\n\r\n              <el-table-column label=\"操作\" align=\"center\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button\r\n                    @click=\"getMain(scope.row)\"\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    >查看</el-button\r\n                  >\r\n                  <el-button\r\n                    type=\"text\"\r\n                    @click=\"editMain(scope.row)\"\r\n                    size=\"small\"\r\n                    >编辑</el-button\r\n                  >\r\n                  <el-button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    @click=\"delMain(scope.row)\"\r\n                    >删除</el-button\r\n                  >\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"工业旅游区\" name=\"third\">\r\n            <el-table\r\n              border\r\n              stripe\r\n              :data=\"tableData\"\r\n              style=\"width: 100%\"\r\n              height=\"480\"\r\n            >\r\n              <el-table-column\r\n                prop=\"start\"\r\n                label=\"始建\"\r\n                width=\"60\"\r\n                align=\"center\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column prop=\"name\" label=\"工业旅游区名称\" width=\"180\">\r\n              </el-table-column>\r\n              <el-table-column prop=\"address\" label=\"地址\"> </el-table-column>\r\n              <el-table-column\r\n                prop=\"type\"\r\n                align=\"center\"\r\n                label=\"景区类型\"\r\n                width=\"100\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"addType\"\r\n                width=\"100\"\r\n                align=\"center\"\r\n                label=\"所属分类\"\r\n              >\r\n              </el-table-column>\r\n              <el-table-column prop=\"company\" label=\"公司\"> </el-table-column>\r\n\r\n              <el-table-column label=\"操作\" align=\"center\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button\r\n                    @click=\"getMain(scope.row)\"\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    >查看</el-button\r\n                  >\r\n                  <el-button\r\n                    type=\"text\"\r\n                    @click=\"editMain(scope.row)\"\r\n                    size=\"small\"\r\n                    >编辑</el-button\r\n                  >\r\n                  <el-button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    @click=\"delMain(scope.row)\"\r\n                    >删除</el-button\r\n                  >\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MainTop from \"../components/MainTop.vue\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    MainTop,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      activeName: \"first\",\r\n\r\n      tableData: [],\r\n\r\n      searchStr: \"\",\r\n    };\r\n  },\r\n\r\n  async created() {\r\n    // 初始化数据\r\n    var res = await this.$axios.get(\"/getHeritageMainData/getHeritageMainData\");\r\n    this.tableData = res.data.data;\r\n    this.changeinstryType(\"one\");\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"instryType\"]),\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\"changeinstryType\", \"getCoordinate\"]),\r\n    addHeritage() {\r\n      this.getCoordinate([]);\r\n      this.$router.push(\"/heritage/add/add\");\r\n    },\r\n\r\n    async changeDataType() {\r\n      // console.log(tab, event);\r\n      if (this.activeName === \"first\") {\r\n        var res = await this.$axios.get(\r\n          \"/getHeritageMainData/getHeritageMainData\"\r\n        );\r\n        this.tableData = res.data.data;\r\n        this.changeinstryType(\"one\");\r\n      } else if (this.activeName === \"second\") {\r\n        var resMus = await this.$axios.get(\r\n          \"/getHeritageMuseum/getHeritageMuseum\"\r\n        );\r\n        this.tableData = resMus.data.data;\r\n        this.changeinstryType(\"two\");\r\n      } else if (this.activeName === \"third\") {\r\n        var resTir = await this.$axios.get(\r\n          \"/getHeritageTourism/getHeritageTourism\"\r\n        );\r\n        this.tableData = resTir.data.data;\r\n        this.changeinstryType(\"three\");\r\n      }\r\n      // console.log(this.tableData);\r\n    },\r\n\r\n    // 表格start\r\n    // 查看详情\r\n    getMain(row) {\r\n      console.log(row);\r\n      this.$router.push(\"/heritage/industry/main/\" + row._id);\r\n    },\r\n\r\n    // 编辑按钮\r\n    editMain(row) {\r\n      console.log(row);\r\n      this.$router.push(\"/heritage/add/\" + row._id);\r\n    },\r\n\r\n    // 模糊查询按钮\r\n    async searchClick() {\r\n      if (this.searchStr) {\r\n        // this.changeDataType();\r\n\r\n        var res1 = \"\";\r\n        if (this.instryType === \"one\") {\r\n          res1 = await this.$axios.get(\r\n            \"/getHeritageMainData/getHeritageMainData\"\r\n          );\r\n        } else if (this.instryType === \"two\") {\r\n          res1 = await this.$axios.get(\"/getHeritageMuseum/getHeritageMuseum\");\r\n        } else if (this.instryType === \"three\") {\r\n          res1 = await this.$axios.get(\r\n            \"/getHeritageTourism/getHeritageTourism\"\r\n          );\r\n        }\r\n\r\n        this.tableData = res1.data.data;\r\n\r\n        var newtableData = this.tableData.filter((ele) =>\r\n          ele.name.includes(this.searchStr)\r\n        );\r\n\r\n        this.tableData = newtableData;\r\n      } else {\r\n        var res = \"\";\r\n        if (this.instryType === \"one\") {\r\n          res = await this.$axios.get(\r\n            \"/getHeritageMainData/getHeritageMainData\"\r\n          );\r\n        } else if (this.instryType === \"two\") {\r\n          res = await this.$axios.get(\"/getHeritageMuseum/getHeritageMuseum\");\r\n        } else if (this.instryType === \"three\") {\r\n          res = await this.$axios.get(\"/getHeritageTourism/getHeritageTourism\");\r\n        }\r\n\r\n        this.tableData = res.data.data;\r\n      }\r\n\r\n      // console.log(newtableData);\r\n    },\r\n\r\n    async delMain(row) {\r\n      // console.log(row, this.instryType);\r\n      var res = \"\";\r\n      if (this.instryType === \"one\") {\r\n        res = await this.$axios.post(\r\n          \"/removeOneHeritageMainData/removeOneHeritageMainData\",\r\n          row\r\n        );\r\n      } else if (this.instryType === \"two\") {\r\n        res = await this.$axios.post(\r\n          \"/removeOneHeritageMuseum/removeOneHeritageMuseum\",\r\n          row\r\n        );\r\n      } else if (this.instryType === \"three\") {\r\n        res = await this.$axios.post(\r\n          \"/removeOneHeritageTourism/removeOneHeritageTourism\",\r\n          row\r\n        );\r\n      }\r\n\r\n      if (res.status === 200) {\r\n        this.$message({\r\n          message: \"信息删除成功\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n\r\n      // 重新获取数据\r\n      var res1 = \"\";\r\n      if (this.instryType === \"one\") {\r\n        res1 = await this.$axios.get(\r\n          \"/getHeritageMainData/getHeritageMainData\"\r\n        );\r\n      } else if (this.instryType === \"two\") {\r\n        res1 = await this.$axios.get(\"/getHeritageMuseum/getHeritageMuseum\");\r\n      } else if (this.instryType === \"three\") {\r\n        res1 = await this.$axios.get(\"/getHeritageTourism/getHeritageTourism\");\r\n      }\r\n\r\n      this.tableData = res1.data.data;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}