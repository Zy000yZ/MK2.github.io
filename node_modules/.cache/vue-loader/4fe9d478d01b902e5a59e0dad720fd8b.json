{"remainingRequest":"D:\\Code Files\\VueFile\\大同市煤炭资源信息管理系统\\webgis-miandata1.1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code Files\\VueFile\\大同市煤炭资源信息管理系统\\webgis-miandata1.1\\src\\views\\GetCoonFile\\getCoordinate.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code Files\\VueFile\\大同市煤炭资源信息管理系统\\webgis-miandata1.1\\src\\views\\GetCoonFile\\getCoordinate.vue","mtime":1741931069119},{"path":"D:\\Code Files\\VueFile\\大同市煤炭资源信息管理系统\\webgis-miandata1.1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code Files\\VueFile\\大同市煤炭资源信息管理系统\\webgis-miandata1.1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Code Files\\VueFile\\大同市煤炭资源信息管理系统\\webgis-miandata1.1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code Files\\VueFile\\大同市煤炭资源信息管理系统\\webgis-miandata1.1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJIZXJpdGFnZUluZHVzdHJ5IiwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtYXA6ICIiLA0KICAgICAgZGlzdHJpY3Q6IG51bGwsDQogICAgICBwb2x5Z29uczogW10sDQogICAgICB6b29tOiAxMCwNCiAgICAgIG1hcmtlcjogbnVsbCwgLy8NCg0KICAgICAgZ2VvbWV0cnlTZWFyY2hUeXBlOiAibWFya2VyIiwgLy/lp4vnu4jkuLrngrkNCiAgICAgIGdlb21ldHJ5Qm94OiBmYWxzZSwgLy/lh6DkvZXmn6Xor6LpnaLmnb/pmpDol4/lsZXnpLoNCiAgICAgIG1vdXNlVG9vbDogbnVsbCwNCiAgICAgIG92ZXJsYXlzOiBbXSwgLy/nu5jliLblpb3nmoTopobnm5bniakNCiAgICAgIGdlb21ldHJ5U2VhcmNoUmVzOiBbXSwgLy/lh6DkvZXmn6Xor6Lnu5PmnpwNCiAgICAgIGlzc2VhcmNoUmVzOiB0cnVlLCAvL+afpeivoue7k+aenOWbvuagh+aYvuekuumakOiXjw0KDQogICAgICAvLyDnsbvlnovmn6Xor6INCiAgICAgIG9wdGlvbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICLlhajpg6jnsbvlnosiLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIHR5cGVTZWxlY3Q6ICLlhajpg6jnsbvlnosiLA0KICAgIH07DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbIm5ld0Nvb3JkaW5hdGUiLCAiQ29vcmRpbmF0ZVR5cGUiLCAiYXBwbHlDb29yZGluYXRlIl0pLA0KICB9LA0KDQogIGNyZWF0ZWQoKSB7DQogICAgY29uc29sZS5sb2codGhpcy5Db29yZGluYXRlVHlwZSk7DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXRNYXAoKTsgLy/liJ3lp4vljJblnLDlm74NCiAgICB0aGlzLm1vdXNlVG9vbCA9IG5ldyBBTWFwLk1vdXNlVG9vbCh0aGlzLm1hcCk7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcE11dGF0aW9ucyhbImdldENvb3JkaW5hdGUiLCAiZ2V0YXBwbHlDb29yZGluYXRlIl0pLA0KDQogICAgaW5pdE1hcCgpIHsNCiAgICAgIC8v5Yid5aeL5YyW5Zyw5Zu+DQogICAgICB0aGlzLm1hcCA9IG5ldyBBTWFwLk1hcCgiY29udGFpbmVyIiwgew0KICAgICAgICByZXNpemVFbmFibGU6IHRydWUsDQogICAgICAgIHpvb206IDksIC8v57qn5YirDQogICAgICAgIHpvb21zOiBbNi41LCAxOF0sDQogICAgICAgIGNlbnRlcjogWzExOC43NjM1NjMsMzIuMDYxMzc3XSwgLy/kuK3lv4PngrnlnZDmoIcNCiAgICAgICAgdmlld01vZGU6ICIzRCIsIC8v5L2/55SoM0Top4blm74NCiAgICAgICAgbWFwU3R5bGU6ICJhbWFwOi8vc3R5bGVzL2ZyZXNoIiwNCiAgICAgICAgaW5mb1dpbmRvdzogbnVsbCwNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBvcGVuZ2VvbWV0cnlCb3goKSB7DQogICAgICB0aGlzLmdlb21ldHJ5Qm94ID0gIXRoaXMuZ2VvbWV0cnlCb3g7DQogICAgfSwNCiAgICBjbG9zZWdlb21ldHJ5Qm94KCkgew0KICAgICAgdGhpcy5nZW9tZXRyeUJveCA9ICF0aGlzLmdlb21ldHJ5Qm94Ow0KICAgIH0sDQogICAgLy8g6ZuG5ZCI5p+l6K+i5Ye95pWw57O75YiXc3RhcnQNCiAgICBkcmF3R2VvbWV0cnkoKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmdlb21ldHJ5U2VhcmNoVHlwZSk7DQogICAgICBzd2l0Y2ggKHRoaXMuZ2VvbWV0cnlTZWFyY2hUeXBlKSB7DQogICAgICAgIGNhc2UgIm1hcmtlciI6IHsNCiAgICAgICAgICB0aGlzLm1vdXNlVG9vbC5tYXJrZXIoew0KICAgICAgICAgICAgLy/lkIxNYXJrZXLnmoRPcHRpb27orr7nva4NCiAgICAgICAgICB9KTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgLy8gdGhpcy5tb3VzZVRvb2wuY2xvc2UoKTsgLy/lhbPpl63vvIzlubbmuIXpmaTopobnm5bniakNCiAgICAgIHRoaXMubW91c2VUb29sLm9uKCJkcmF3IiwgKGUpID0+IHsNCiAgICAgICAgdGhpcy5vdmVybGF5cy5wdXNoKGUub2JqKTsNCiAgICAgICAgY29uc29sZS5sb2coImUub2JqLS0tLS0tLS0tIiwgZS5vYmouZ2V0UG9zaXRpb24oKSk7IC8v6I635Y+W54K55qCH6K6w55qE5L2N572uDQoNCiAgICAgICAgdmFyIHpiID0gZS5vYmouZ2V0UG9zaXRpb24oKTsNCiAgICAgICAgaWYgKHRoaXMuQ29vcmRpbmF0ZVR5cGUgPT09ICJhZGQiKSB7DQogICAgICAgICAgdGhpcy5nZXRDb29yZGluYXRlKFt6Yi5sbmcsIHpiLmxhdF0pOw0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuQ29vcmRpbmF0ZVR5cGUgPT09ICJhcHBseSIpIHsNCiAgICAgICAgICB0aGlzLmdldGFwcGx5Q29vcmRpbmF0ZShbemIubG5nLCB6Yi5sYXRdKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmV3Q29vcmRpbmF0ZSk7DQoNCiAgICAgICAgdGhpcy5tb3VzZVRvb2wuY2xvc2UoKTsgLy/lhbPpl60NCiAgICAgIH0pOyAvL+ino+mZpOe7keWumu+8jA0KICAgIH0sDQoNCiAgICBnZXRBZ2luKCkgew0KICAgICAgdGhpcy5tb3VzZVRvb2wuY2xvc2UodHJ1ZSk7DQogICAgICB0aGlzLmdldENvb3JkaW5hdGUoW10pOw0KICAgICAgdGhpcy5nZXRhcHBseUNvb3JkaW5hdGUoW10pOw0KICAgIH0sDQoNCiAgICBzdWIoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL0hlcml0YWdlUHJvUHVzaC9hZGQiKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["getCoordinate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"getCoordinate.vue","sourceRoot":"src/views/Heritage","sourcesContent":["<template>\r\n  <!--  -->\r\n  <div class=\"getCoordinate\">\r\n    <div class=\"heritage-industry\">\r\n      <!-- 地图容器 -->\r\n      <div id=\"container\" class=\"container\">\r\n        <div class=\"map-buttons\" style=\"z-index:999;position:fixed;top: 75px;right:15px\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"drawGeometry\"\r\n            class=\"map-btn map-element\"\r\n            >拾取坐标</el-button\r\n          >\r\n\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"getAgin\"\r\n            class=\"map-btn map-element\"\r\n            >清空</el-button\r\n          >\r\n\r\n          <el-button\r\n            v-show=\"\r\n              this.newCoordinate.length !== 0 ||\r\n              this.applyCoordinate.length !== 0\r\n            \"\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"sub\"\r\n            class=\"map-btn map-element\"\r\n            >确定</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script\r\n  type=\"text/javascript\"\r\n  src=\"https://webapi.amap.com/maps?v=1.4.15&key=2eccb47b400c8ab58f2dc596dbfe9d53&plugin=AMap.MouseTool,AMap.DistrictSearch\"\r\n></script>\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"HeritageIndustry\",\r\n\r\n  data() {\r\n    return {\r\n      map: \"\",\r\n      district: null,\r\n      polygons: [],\r\n      zoom: 10,\r\n      marker: null, //\r\n\r\n      geometrySearchType: \"marker\", //始终为点\r\n      geometryBox: false, //几何查询面板隐藏展示\r\n      mouseTool: null,\r\n      overlays: [], //绘制好的覆盖物\r\n      geometrySearchRes: [], //几何查询结果\r\n      issearchRes: true, //查询结果图标显示隐藏\r\n\r\n      // 类型查询\r\n      options: [\r\n        {\r\n          type: \"全部类型\",\r\n        },\r\n      ],\r\n      typeSelect: \"全部类型\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"newCoordinate\", \"CoordinateType\", \"applyCoordinate\"]),\r\n  },\r\n\r\n  created() {\r\n    console.log(this.CoordinateType);\r\n  },\r\n\r\n  mounted() {\r\n    this.initMap(); //初始化地图\r\n    this.mouseTool = new AMap.MouseTool(this.map);\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\"getCoordinate\", \"getapplyCoordinate\"]),\r\n\r\n    initMap() {\r\n      //初始化地图\r\n      this.map = new AMap.Map(\"container\", {\r\n        resizeEnable: true,\r\n        zoom: 9, //级别\r\n        zooms: [6.5, 18],\r\n        center: [118.763563,32.061377], //中心点坐标\r\n        viewMode: \"3D\", //使用3D视图\r\n        mapStyle: \"amap://styles/fresh\",\r\n        infoWindow: null,\r\n      });\r\n    },\r\n\r\n    opengeometryBox() {\r\n      this.geometryBox = !this.geometryBox;\r\n    },\r\n    closegeometryBox() {\r\n      this.geometryBox = !this.geometryBox;\r\n    },\r\n    // 集合查询函数系列start\r\n    drawGeometry() {\r\n      // console.log(this.geometrySearchType);\r\n      switch (this.geometrySearchType) {\r\n        case \"marker\": {\r\n          this.mouseTool.marker({\r\n            //同Marker的Option设置\r\n          });\r\n          break;\r\n        }\r\n      }\r\n      // this.mouseTool.close(); //关闭，并清除覆盖物\r\n      this.mouseTool.on(\"draw\", (e) => {\r\n        this.overlays.push(e.obj);\r\n        console.log(\"e.obj---------\", e.obj.getPosition()); //获取点标记的位置\r\n\r\n        var zb = e.obj.getPosition();\r\n        if (this.CoordinateType === \"add\") {\r\n          this.getCoordinate([zb.lng, zb.lat]);\r\n        } else if (this.CoordinateType === \"apply\") {\r\n          this.getapplyCoordinate([zb.lng, zb.lat]);\r\n        }\r\n\r\n        console.log(this.newCoordinate);\r\n\r\n        this.mouseTool.close(); //关闭\r\n      }); //解除绑定，\r\n    },\r\n\r\n    getAgin() {\r\n      this.mouseTool.close(true);\r\n      this.getCoordinate([]);\r\n      this.getapplyCoordinate([]);\r\n    },\r\n\r\n    sub() {\r\n      this.$router.push(\"/HeritageProPush/add\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.heritage-industry #container {\r\n  border-bottom: 1px solid #f9d5a7;\r\n  height: calc(100vh - 62px);\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"]}]}