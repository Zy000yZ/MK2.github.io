{"remainingRequest":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\HeritageRepairLocalMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\HeritageRepairLocalMap.vue","mtime":1653208114603},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637922542348},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\babel-loader\\lib\\index.js","mtime":1637922545947},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637922542348},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js","mtime":1637922546721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7fSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtYXA6ICIiLA0KICAgICAgZGlzdHJpY3Q6IG51bGwsDQogICAgICBwb2x5Z29uczogW10sDQogICAgICBsYXllcjogbnVsbCwgLy/mo7Hmn7Hlm77lsYINCiAgICAgIGFuZ2xlOiA5MCwNCiAgICAgIC8vIHBsOiBudWxsLCAvL+ajseafseWbvuWxgg0KICAgICAgLy8gZ2VvOiBudWxsLCAvL+aVsOaNrua6kA0KICAgICAgLy8gY2xpY2tJbmZvOiBudWxsLA0KICAgICAgLy8gZGF0OiBudWxsLA0KICAgICAgLy8g5Zyw5Zu+5Y+Y6YePDQogICAgICBpbmZvV2luOiBudWxsLA0KICAgICAgdGFibGVEb206IG51bGwsDQogICAgICBsaXN0OiBbXSwNCiAgICB9Ow0KICB9LA0KDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gY29uc29sZS5sb2coImxpc3QiLCB0aGlzLmxpc3QpOw0KICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGF0YUxpc3QpOw0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pbml0TWFwKCk7IC8v5Yid5aeL5YyW5Zyw5Zu+DQogICAgdGhpcy5kcmF3Qm91bmRzKCk7DQogICAgdGhpcy5kcmF3TG9jYWwoKTsgLy/liJvlu7rmo7Hmn7Hlm74NCiAgICB0aGlzLmNoYW5nZUxpZ2h0RGlyZWN0aW9uKCk7DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbImxhbmciXSksDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGluaXRNYXAoKSB7DQogICAgICAvL+WIneWni+WMluWcsOWbvg0KICAgICAgdGhpcy5tYXAgPSBuZXcgQU1hcC5NYXAoImNvbnRhaW5lciIsIHsNCiAgICAgICAgcmVzaXplRW5hYmxlOiB0cnVlLA0KICAgICAgICB6b29tOiA5LCAvL+e6p+WIqw0KICAgICAgICB6b29tczogWzYuNSwgMThdLA0KICAgICAgICBjZW50ZXI6IFsxMTUuNDY0NTIzLCAzOC44NzQ0NzZdLCAvL+S4reW/g+eCueWdkOaghw0KICAgICAgICB2aWV3TW9kZTogIjNEIiwgLy/kvb/nlKgzROinhuWbvg0KICAgICAgICBsYW5nOiB0aGlzLmxhbmcsDQogICAgICAgIG1hcFN0eWxlOiAiYW1hcDovL3N0eWxlcy9kYjllZmU2YTE3NDVhYzI0YjcyNjliODYyZjM1OTUzNiIsDQogICAgICAgIGluZm9XaW5kb3c6IG51bGwsDQogICAgICAgIHBpdGNoOiA0NiwNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvLyDoo4HliarovrnnlYwNCiAgICBkcmF3Qm91bmRzKCkgew0KICAgICAgaWYgKCF0aGlzLmRpc3RyaWN0KSB7DQogICAgICAgIC8v5a6e5L6L5YyWRGlzdHJpY3RTZWFyY2gNCiAgICAgICAgdmFyIG9wdHMgPSB7DQogICAgICAgICAgc3ViZGlzdHJpY3Q6IDAsIC8v6I635Y+W6L6555WM5LiN6ZyA6KaB6L+U5Zue5LiL57qn6KGM5pS/5Yy6DQogICAgICAgICAgZXh0ZW5zaW9uczogImFsbCIsIC8v6L+U5Zue6KGM5pS/5Yy66L6555WM5Z2Q5qCH57uE562J5YW35L2T5L+h5oGvDQogICAgICAgICAgbGV2ZWw6ICJwcm92aW5jZSIsIC8v5p+l6K+i6KGM5pS/57qn5Yir5Li6IOW4gg0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLmRpc3RyaWN0ID0gbmV3IEFNYXAuRGlzdHJpY3RTZWFyY2gob3B0cyk7DQogICAgICB9DQogICAgICB0aGlzLmRpc3RyaWN0LnNldExldmVsKCJwcm92aW5jZSIpOw0KICAgICAgdmFyIF90aGlzID0gdGhpczsNCiAgICAgIHRoaXMuZGlzdHJpY3Quc2VhcmNoKCLmsrPljJfnnIEiLCBmdW5jdGlvbiAoc3RhdHVzLCByZXN1bHQpIHsNCiAgICAgICAgLy8g5rKz5YyX55yB6L6555WMDQogICAgICAgIC8vIHZhciBib3VuZHMgPSByZXN1bHQuZGlzdHJpY3RMaXN0WzBdLmJvdW5kYXJpZXM7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXR1cyk7DQoNCiAgICAgICAgdmFyIG91dGVyID0gWw0KICAgICAgICAgIG5ldyBBTWFwLkxuZ0xhdCgtMzYwLCA5MCwgdHJ1ZSksDQogICAgICAgICAgbmV3IEFNYXAuTG5nTGF0KC0zNjAsIC05MCwgdHJ1ZSksDQogICAgICAgICAgbmV3IEFNYXAuTG5nTGF0KDM2MCwgLTkwLCB0cnVlKSwNCiAgICAgICAgICBuZXcgQU1hcC5MbmdMYXQoMzYwLCA5MCwgdHJ1ZSksDQogICAgICAgIF07DQogICAgICAgIHZhciBob2xlcyA9IHJlc3VsdC5kaXN0cmljdExpc3RbMF0uYm91bmRhcmllczsNCg0KICAgICAgICB2YXIgcGF0aEFycmF5ID0gW291dGVyXTsNCiAgICAgICAgcGF0aEFycmF5LnB1c2guYXBwbHkocGF0aEFycmF5LCBob2xlcyk7DQogICAgICAgIHZhciBwb2x5Z29uID0gbmV3IEFNYXAuUG9seWdvbih7DQogICAgICAgICAgcGF0aEw6IHBhdGhBcnJheSwNCiAgICAgICAgICBzdHJva2VDb2xvcjogIiNGOUQ1QTciLA0KICAgICAgICAgIHN0cm9rZVdlaWdodDogMywNCiAgICAgICAgICBmaWxsQ29sb3I6ICIjRjlENUE3IiwNCiAgICAgICAgICBmaWxsT3BhY2l0eTogMC4zLA0KICAgICAgICB9KTsNCiAgICAgICAgcG9seWdvbi5zZXRQYXRoKHBhdGhBcnJheSk7DQogICAgICAgIF90aGlzLm1hcC5hZGQocG9seWdvbik7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgYXN5bmMgZHJhd0xvY2FsKCkgew0KICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgIG1lc3NhZ2U6ICLlt6XkuJrpgZfkuqfntK/orqHnu7Tkv67mrKHmlbDmo7Hmn7Hlm77nu5jliLbkuK3vvIzliJ3mrKHliqDovb3lj6/og73nlKjml7bovoPplb8iLA0KICAgICAgfSk7DQoNCiAgICAgIC8vIOiOt+WPluaVsOaNrnN0YXJ0DQogICAgICB2YXIgcmVzOw0KICAgICAgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCIvZ2V0QXBwbHlSZXBhaXJEYXRhL2dldEFwcGx5UmVwYWlyRGF0YSIpOw0KICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIHJlcy5kYXRhLmRhdGEuZm9yRWFjaCgoZWxlKSA9PiB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKGVsZSk7DQogICAgICAgIHZhciBpbmRleCA9IHRoaXMubGlzdC5maW5kSW5kZXgoKGNoZSkgPT4gY2hlLm5hbWUgPT09IGVsZS5uYW1lKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpOw0KICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7DQogICAgICAgICAgdGhpcy5saXN0W2luZGV4XS5udW0gPSB0aGlzLmxpc3RbaW5kZXhdLm51bSArIDE7DQogICAgICAgICAgdGhpcy5saXN0W2luZGV4XS5udW0xID0gdGhpcy5saXN0W2luZGV4XS5udW0gKiAxMDA7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5saXN0ID0gWw0KICAgICAgICAgICAgLi4udGhpcy5saXN0LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAuLi5lbGUsDQogICAgICAgICAgICAgIG51bTogMSwNCiAgICAgICAgICAgICAgbnVtMTogMTAsDQogICAgICAgICAgICAgIGNvb3JkaW5hdGVTdHI6IGVsZS5qaW5nICsgYCxgICsgZWxlLndlaSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgXTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICBjb25zb2xlLmxvZygi5qC85byP5YyW5pWw5o2uIiwgdGhpcy5saXN0KTsNCiAgICAgIC8vIOiOt+WPluaVsOaNrmVuZA0KDQogICAgICB0aGlzLmxheWVyID0gbmV3IExvY2EuU2NhdHRlclBvaW50TGF5ZXIoew0KICAgICAgICBtYXA6IHRoaXMubWFwLA0KICAgICAgICBldmVudFN1cHBvcnQ6IHRydWUsDQogICAgICB9KTsNCg0KICAgICAgdGhpcy5sYXllci5zZXREYXRhKHRoaXMubGlzdC5zbGljZSgwLCA1MDAwKSwgew0KICAgICAgICBsbmdsYXQ6ICJjb29yZGluYXRlU3RyIiwNCiAgICAgIH0pOw0KDQogICAgICB2YXIgY29sb3JzID0gWyIjMDU1M0ExIiwgIiMwQjc5QjAiLCAiIzEwQjNCMCIsICIjN0NDRjk4IiwgIiNEQ0U4NzIiXTsNCg0KICAgICAgdGhpcy5sYXllci5zZXRPcHRpb25zKHsNCiAgICAgICAgLy8g6K6+5a6a5qOx5p+x5L2T6aG254K55pWw6YePLCDpu5jorqQgMTbvvIzlkYjnjrDlnIbmn7HkvZMNCiAgICAgICAgLy92ZXJ0ZXg6IDQsDQogICAgICAgIC8vIOWNleS9jeexsw0KICAgICAgICB1bml0OiAibWV0ZXIiLA0KICAgICAgICBsaWdodDogew0KICAgICAgICAgIC8vIOeOr+Wig+WFiQ0KICAgICAgICAgIGFtYmllbnQ6IHsNCiAgICAgICAgICAgIC8vIOWFieeFp+minOiJsg0KICAgICAgICAgICAgY29sb3I6ICIjZmZmZmZmIiwNCiAgICAgICAgICAgIC8vIOWFieeFp+W8uuW6pu+8jOiMg+WbtCBbMCwgMV0NCiAgICAgICAgICAgIGludGVuc2l0eTogMC41LA0KICAgICAgICAgIH0sDQogICAgICAgICAgLy8g5bmz6KGM5YWJDQogICAgICAgICAgZGlyZWN0aW9uYWw6IHsNCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZmZmZiIsDQogICAgICAgICAgICAvLyDlhYnnhafmlrnlkJHvvIzmmK/mjIfku47lnLDpnaLljp/ngrnotbfvvIzlhYnmjIflkJHnmoTmlrnlkJHjgIINCiAgICAgICAgICAgIC8vIOaVsOe7hOWIhuWIq+ihqOekuiBYIOi9tOOAgVkg6L2044CBWiDovbTjgIINCiAgICAgICAgICAgIC8vIOWFtuS4rSBYIOato+WQkeacneS4nOOAgVkg5q2j5ZCR5pyd5Y2X44CBWiDmraPlkJHmnJ3lnLDkuIvjgIINCiAgICAgICAgICAgIGRpcmVjdGlvbjogWzEsIC0xLjUsIDJdLA0KICAgICAgICAgICAgaW50ZW5zaXR5OiAwLjYsDQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAvLyDmraPlpJrovrnlvaLljYrlvoQNCiAgICAgICAgICByYWRpdXM6IDM1MDAsDQogICAgICAgICAgaGVpZ2h0OiB7DQogICAgICAgICAgICBrZXk6ICJudW0xIiwNCiAgICAgICAgICAgIHZhbHVlOiBbMCwgNTAwMDBdLA0KICAgICAgICAgIH0sDQogICAgICAgICAgLy8g6aG26L656aKc6ImyDQogICAgICAgICAgY29sb3I6IHsNCiAgICAgICAgICAgIGtleTogIm51bSIsDQogICAgICAgICAgICBzY2FsZTogInF1YW50aWxlIiwNCiAgICAgICAgICAgIHZhbHVlOiBjb2xvcnMsDQogICAgICAgICAgfSwNCiAgICAgICAgICBvcGFjaXR5OiAwLjksDQogICAgICAgICAgLy8g5peL6L2s6KeS5bqm77yM5Y2V5L2N5byn5bqmDQogICAgICAgICAgcm90YXRlOiAoTWF0aC5QSSAvIDE4MCkgKiA0NSwNCiAgICAgICAgfSwNCiAgICAgICAgc2VsZWN0U3R5bGU6IHsNCiAgICAgICAgICBjb2xvcjogIiNmY2ZmMTkiLA0KICAgICAgICAgIG9wYWNpdHk6IDAuOSwNCiAgICAgICAgfSwNCiAgICAgIH0pOw0KDQogICAgICB0aGlzLmxheWVyLm9uKCJtb3VzZW1vdmUiLCAoZXYpID0+IHsNCiAgICAgICAgdGhpcy5vcGVuSW5mb1dpbih0aGlzLm1hcCwgZXYub3JpZ2luYWxFdmVudCwgew0KICAgICAgICAgIOmBl+S6p+WQjeensDogZXYucmF3RGF0YS5uYW1lLA0KICAgICAgICAgIOe7tOS/ruasoeaVsDogZXYucmF3RGF0YS5udW0sDQogICAgICAgICAg6YGX5Lqn57G75Z6LOiBldi5yYXdEYXRhLmFkZFR5cGUsDQogICAgICAgICAg6YGX5Lqn5Zyw5Z2AOiBldi5yYXdEYXRhLmFkZHJlc3MsDQoNCiAgICAgICAgICDlnZDmoIc6IGV2LnJhd0RhdGEuY29vcmRpbmF0ZVN0ciwNCiAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICAgIHRoaXMubGF5ZXIucmVuZGVyKCk7DQogICAgICB0aGlzLm1hcC5EaXJlY3Rpb25MaWdodCA9IG5ldyBBTWFwLkxpZ2h0cy5EaXJlY3Rpb25MaWdodCgNCiAgICAgICAgWzAsIC0xLCAyXSwNCiAgICAgICAgWzEsIDEsIDFdLA0KICAgICAgICAwLjcNCiAgICAgICk7DQogICAgfSwNCg0KICAgIG9wZW5JbmZvV2luKG1hcCwgZXZlbnQsIGNvbnRlbnQpIHsNCiAgICAgIC8vIOm8oOagh+enu+WFpeW8ueWHuuWchuafseS/oeaBrw0KICAgICAgaWYgKCF0aGlzLmluZm9XaW4pIHsNCiAgICAgICAgdGhpcy5pbmZvV2luID0gbmV3IEFNYXAuSW5mb1dpbmRvdyh7DQogICAgICAgICAgYXV0b01vdmU6IGZhbHNlLA0KICAgICAgICAgIGlzQ3VzdG9tOiB0cnVlLCAvL+S9v+eUqOiHquWumuS5ieeql+S9kw0KICAgICAgICAgIG9mZnNldDogbmV3IEFNYXAuUGl4ZWwoMTMwLCAxMDApLA0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgdmFyIHggPSBldmVudC5vZmZzZXRYOw0KICAgICAgdmFyIHkgPSBldmVudC5vZmZzZXRZOw0KICAgICAgdmFyIGxuZ0xhdCA9IHRoaXMubWFwLmNvbnRhaW5lclRvTG5nTGF0KG5ldyBBTWFwLlBpeGVsKHgsIHkpKTsNCg0KICAgICAgaWYgKCF0aGlzLnRhYmxlRG9tKSB7DQogICAgICAgIGxldCBpbmZvRG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgIGluZm9Eb20uY2xhc3NOYW1lID0gImluZm8iOw0KICAgICAgICB0aGlzLnRhYmxlRG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTsNCiAgICAgICAgaW5mb0RvbS5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlRG9tKTsNCiAgICAgICAgdGhpcy5pbmZvV2luLnNldENvbnRlbnQoaW5mb0RvbSk7DQogICAgICB9DQoNCiAgICAgIHZhciB0clN0ciA9ICIiOw0KICAgICAgZm9yICh2YXIgbmFtZSBpbiBjb250ZW50KSB7DQogICAgICAgIHZhciB2YWwgPSBjb250ZW50W25hbWVdOw0KICAgICAgICB0clN0ciArPQ0KICAgICAgICAgICI8dHI+IiArDQogICAgICAgICAgJzx0ZCBjbGFzcz0ibGFiZWwiPicgKw0KICAgICAgICAgIG5hbWUgKw0KICAgICAgICAgICI8L3RkPiIgKw0KICAgICAgICAgICI8dGQ+Jm5ic3A7PC90ZD4iICsNCiAgICAgICAgICAnPHRkIGNsYXNzPSJjb250ZW50Ij4nICsNCiAgICAgICAgICB2YWwgKw0KICAgICAgICAgICI8L3RkPiIgKw0KICAgICAgICAgICI8L3RyPiI7DQogICAgICB9DQoNCiAgICAgIHRoaXMudGFibGVEb20uaW5uZXJIVE1MID0gdHJTdHI7DQogICAgICB0aGlzLmluZm9XaW4ub3Blbih0aGlzLm1hcCwgbG5nTGF0KTsNCiAgICB9LA0KDQogICAgY2xvc2VJbmZvV2luKCkgew0KICAgICAgaWYgKHRoaXMuaW5mb1dpbikgew0KICAgICAgICB0aGlzLmluZm9XaW4uY2xvc2UoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGNoYW5nZUxpZ2h0RGlyZWN0aW9uKCkgew0KICAgICAgLy8g5pS55Y+Y5YWJ5b2xDQogICAgICB0aGlzLmFuZ2xlICs9IDI7DQogICAgICB2YXIgZGlyID0gWw0KICAgICAgICBNYXRoLmNvcygodGhpcy5hbmdsZSAvIDE4MCkgKiBNYXRoLlBJKSwNCiAgICAgICAgLU1hdGguc2luKCh0aGlzLmFuZ2xlIC8gMTgwKSAqIE1hdGguUEkpLA0KICAgICAgICAyLA0KICAgICAgXTsNCiAgICAgIHRoaXMubWFwLkRpcmVjdGlvbkxpZ2h0LnNldERpcmVjdGlvbihkaXIpOw0KICAgICAgdGhpcy5tYXAucmVuZGVyKCk7DQogICAgICBBTWFwLlV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLmNoYW5nZUxpZ2h0RGlyZWN0aW9uKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["HeritageRepairLocalMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeritageRepairLocalMap.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <!-- 遗产维修状况柱状图 -->\r\n  <div class=\"heritage-Hot-Map\">\r\n    <div class=\"heritage-industry\">\r\n      <!-- 地图容器 -->\r\n      <div id=\"container\" class=\"container\">\r\n        <div class=\"demo-title\">\r\n          <h3>所有工业遗产累计维修次数多面棱柱图</h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  <script type=\"text/javascript\"\r\n    src=\"https://webapi.amap.com/maps?v=1.4.15&key=2eccb47b400c8ab58f2dc596dbfe9d53&plugin=AMap.MouseTool,AMap.Driving,AMap.DistrictSearch,AMap.Geocoder,Map3D\"></script>\r\n  <script src=\"https://webapi.amap.com/loca?v=1.3.2&key=2eccb47b400c8ab58f2dc596dbfe9d53\"></script>\r\n    \r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      map: \"\",\r\n      district: null,\r\n      polygons: [],\r\n      layer: null, //棱柱图层\r\n      angle: 90,\r\n      // pl: null, //棱柱图层\r\n      // geo: null, //数据源\r\n      // clickInfo: null,\r\n      // dat: null,\r\n      // 地图变量\r\n      infoWin: null,\r\n      tableDom: null,\r\n      list: [],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // console.log(\"list\", this.list);\r\n    // console.log(this.dataList);\r\n  },\r\n\r\n  mounted() {\r\n    this.initMap(); //初始化地图\r\n    this.drawBounds();\r\n    this.drawLocal(); //创建棱柱图\r\n    this.changeLightDirection();\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"lang\"]),\r\n  },\r\n\r\n  methods: {\r\n    initMap() {\r\n      //初始化地图\r\n      this.map = new AMap.Map(\"container\", {\r\n        resizeEnable: true,\r\n        zoom: 9, //级别\r\n        zooms: [6.5, 18],\r\n        center: [115.464523, 38.874476], //中心点坐标\r\n        viewMode: \"3D\", //使用3D视图\r\n        lang: this.lang,\r\n        mapStyle: \"amap://styles/db9efe6a1745ac24b7269b862f359536\",\r\n        infoWindow: null,\r\n        pitch: 46,\r\n      });\r\n    },\r\n\r\n    // 裁剪边界\r\n    drawBounds() {\r\n      if (!this.district) {\r\n        //实例化DistrictSearch\r\n        var opts = {\r\n          subdistrict: 0, //获取边界不需要返回下级行政区\r\n          extensions: \"all\", //返回行政区边界坐标组等具体信息\r\n          level: \"province\", //查询行政级别为 市\r\n        };\r\n        this.district = new AMap.DistrictSearch(opts);\r\n      }\r\n      this.district.setLevel(\"province\");\r\n      var _this = this;\r\n      this.district.search(\"河北省\", function (status, result) {\r\n        // 河北省边界\r\n        // var bounds = result.districtList[0].boundaries;\r\n        // console.log(result);\r\n        // console.log(status);\r\n\r\n        var outer = [\r\n          new AMap.LngLat(-360, 90, true),\r\n          new AMap.LngLat(-360, -90, true),\r\n          new AMap.LngLat(360, -90, true),\r\n          new AMap.LngLat(360, 90, true),\r\n        ];\r\n        var holes = result.districtList[0].boundaries;\r\n\r\n        var pathArray = [outer];\r\n        pathArray.push.apply(pathArray, holes);\r\n        var polygon = new AMap.Polygon({\r\n          pathL: pathArray,\r\n          strokeColor: \"#F9D5A7\",\r\n          strokeWeight: 3,\r\n          fillColor: \"#F9D5A7\",\r\n          fillOpacity: 0.3,\r\n        });\r\n        polygon.setPath(pathArray);\r\n        _this.map.add(polygon);\r\n      });\r\n    },\r\n\r\n    async drawLocal() {\r\n      this.$message({\r\n        message: \"工业遗产累计维修次数棱柱图绘制中，初次加载可能用时较长\",\r\n      });\r\n\r\n      // 获取数据start\r\n      var res;\r\n      res = await this.$axios.get(\"/getApplyRepairData/getApplyRepairData\");\r\n      console.log(res);\r\n      res.data.data.forEach((ele) => {\r\n        // console.log(ele);\r\n        var index = this.list.findIndex((che) => che.name === ele.name);\r\n        // console.log(index);\r\n        if (index !== -1) {\r\n          this.list[index].num = this.list[index].num + 1;\r\n          this.list[index].num1 = this.list[index].num * 100;\r\n        } else {\r\n          this.list = [\r\n            ...this.list,\r\n            {\r\n              ...ele,\r\n              num: 1,\r\n              num1: 10,\r\n              coordinateStr: ele.jing + `,` + ele.wei,\r\n            },\r\n          ];\r\n        }\r\n      });\r\n      console.log(\"格式化数据\", this.list);\r\n      // 获取数据end\r\n\r\n      this.layer = new Loca.ScatterPointLayer({\r\n        map: this.map,\r\n        eventSupport: true,\r\n      });\r\n\r\n      this.layer.setData(this.list.slice(0, 5000), {\r\n        lnglat: \"coordinateStr\",\r\n      });\r\n\r\n      var colors = [\"#0553A1\", \"#0B79B0\", \"#10B3B0\", \"#7CCF98\", \"#DCE872\"];\r\n\r\n      this.layer.setOptions({\r\n        // 设定棱柱体顶点数量, 默认 16，呈现圆柱体\r\n        //vertex: 4,\r\n        // 单位米\r\n        unit: \"meter\",\r\n        light: {\r\n          // 环境光\r\n          ambient: {\r\n            // 光照颜色\r\n            color: \"#ffffff\",\r\n            // 光照强度，范围 [0, 1]\r\n            intensity: 0.5,\r\n          },\r\n          // 平行光\r\n          directional: {\r\n            color: \"#ffffff\",\r\n            // 光照方向，是指从地面原点起，光指向的方向。\r\n            // 数组分别表示 X 轴、Y 轴、Z 轴。\r\n            // 其中 X 正向朝东、Y 正向朝南、Z 正向朝地下。\r\n            direction: [1, -1.5, 2],\r\n            intensity: 0.6,\r\n          },\r\n        },\r\n        style: {\r\n          // 正多边形半径\r\n          radius: 3500,\r\n          height: {\r\n            key: \"num1\",\r\n            value: [0, 50000],\r\n          },\r\n          // 顶边颜色\r\n          color: {\r\n            key: \"num\",\r\n            scale: \"quantile\",\r\n            value: colors,\r\n          },\r\n          opacity: 0.9,\r\n          // 旋转角度，单位弧度\r\n          rotate: (Math.PI / 180) * 45,\r\n        },\r\n        selectStyle: {\r\n          color: \"#fcff19\",\r\n          opacity: 0.9,\r\n        },\r\n      });\r\n\r\n      this.layer.on(\"mousemove\", (ev) => {\r\n        this.openInfoWin(this.map, ev.originalEvent, {\r\n          遗产名称: ev.rawData.name,\r\n          维修次数: ev.rawData.num,\r\n          遗产类型: ev.rawData.addType,\r\n          遗产地址: ev.rawData.address,\r\n\r\n          坐标: ev.rawData.coordinateStr,\r\n        });\r\n      });\r\n      this.layer.render();\r\n      this.map.DirectionLight = new AMap.Lights.DirectionLight(\r\n        [0, -1, 2],\r\n        [1, 1, 1],\r\n        0.7\r\n      );\r\n    },\r\n\r\n    openInfoWin(map, event, content) {\r\n      // 鼠标移入弹出圆柱信息\r\n      if (!this.infoWin) {\r\n        this.infoWin = new AMap.InfoWindow({\r\n          autoMove: false,\r\n          isCustom: true, //使用自定义窗体\r\n          offset: new AMap.Pixel(130, 100),\r\n        });\r\n      }\r\n\r\n      var x = event.offsetX;\r\n      var y = event.offsetY;\r\n      var lngLat = this.map.containerToLngLat(new AMap.Pixel(x, y));\r\n\r\n      if (!this.tableDom) {\r\n        let infoDom = document.createElement(\"div\");\r\n        infoDom.className = \"info\";\r\n        this.tableDom = document.createElement(\"table\");\r\n        infoDom.appendChild(this.tableDom);\r\n        this.infoWin.setContent(infoDom);\r\n      }\r\n\r\n      var trStr = \"\";\r\n      for (var name in content) {\r\n        var val = content[name];\r\n        trStr +=\r\n          \"<tr>\" +\r\n          '<td class=\"label\">' +\r\n          name +\r\n          \"</td>\" +\r\n          \"<td>&nbsp;</td>\" +\r\n          '<td class=\"content\">' +\r\n          val +\r\n          \"</td>\" +\r\n          \"</tr>\";\r\n      }\r\n\r\n      this.tableDom.innerHTML = trStr;\r\n      this.infoWin.open(this.map, lngLat);\r\n    },\r\n\r\n    closeInfoWin() {\r\n      if (this.infoWin) {\r\n        this.infoWin.close();\r\n      }\r\n    },\r\n    changeLightDirection() {\r\n      // 改变光影\r\n      this.angle += 2;\r\n      var dir = [\r\n        Math.cos((this.angle / 180) * Math.PI),\r\n        -Math.sin((this.angle / 180) * Math.PI),\r\n        2,\r\n      ];\r\n      this.map.DirectionLight.setDirection(dir);\r\n      this.map.render();\r\n      AMap.Util.requestAnimFrame(this.changeLightDirection);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.heritage-Hot-Map .demo-title {\r\n  position: relative;\r\n  top: 10px;\r\n  z-index: 9;\r\n  left: 15px;\r\n}\r\n.heritage-Hot-Map .demo-title h1 {\r\n  margin: 0;\r\n  color: #acb3bb;\r\n}\r\n\r\n.heritage-Hot-Map .demo-title h3 {\r\n  font-weight: normal;\r\n  margin-top: 5px;\r\n  color: #8e939d;\r\n}\r\n\r\n/* .heritage-Hot-Map .legend {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n}\r\n\r\n.heritage-Hot-Map .legend ul {\r\n  padding: 0;\r\n  margin: 0;\r\n  list-style: none;\r\n}\r\n\r\n.heritage-Hot-Map .color-item {\r\n  width: 30px;\r\n  height: 20px;\r\n  display: inline-block;\r\n}\r\n\r\n.heritage-Hot-Map .label-item {\r\n  display: inline-block;\r\n  width: 30px;\r\n  margin-left: -2px;\r\n  font-size: 14px;\r\n} */\r\n.heritage-Hot-Map .info {\r\n  padding: 0.75rem 1.25rem;\r\n  margin-bottom: 1rem;\r\n  border-radius: 0.25rem;\r\n  position: fixed;\r\n  top: 1rem;\r\n  background-color: white;\r\n  width: auto;\r\n  min-width: 22rem;\r\n  border-width: 0;\r\n  right: 1rem;\r\n  box-shadow: 0 2px 6px 0 rgba(114, 124, 245, 0.5);\r\n  font-size: 12px;\r\n}\r\n.heritage-Hot-Map .info span {\r\n  color: #1b91ff;\r\n}\r\n</style>"]}]}