{"remainingRequest":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\HeritageRepairMap.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\HeritageRepairMap.vue","mtime":1649918280491},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637922542348},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1637922542317},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\babel-loader\\lib\\index.js","mtime":1637922545947},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637922542348},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js","mtime":1637922546721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7fSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtYXA6ICIiLA0KICAgICAgZGlzdHJpY3Q6IG51bGwsDQogICAgICBwb2x5Z29uczogW10sDQogICAgICBtYXJrZXJzOiBbXSwNCiAgICAgIG1hcmtlcjogbnVsbCwgLy/lt6XkuJrpgZfkuqfngrnkvY0NCg0KICAgICAgLy8g5Zyw5Zu+5Y+Y6YePDQoNCiAgICAgIGRhdGFMaXN0UGVuZGluZzogW10sIC8v5Zyw5Zu+5pWw5o2u5b6F5a6h5om5DQogICAgICBkYXRhTGlzdEFkb3B0OiBbXSwgLy/lnLDlm77mlbDmja7lpITnkIbkuK0NCiAgICAgIGRhdGFMaXN0UmVqZWN0OiBbXSwgLy/lnLDlm77mlbDmja7lt7LpqbPlm54NCiAgICAgIGRhdGFMaXN0SXNlbmQ6IFtdLCAvL+WcsOWbvuaVsOaNruW3suWujOaIkA0KICAgICAgZGF0YWxpc3Q6IFtdLA0KICAgIH07DQogIH0sDQoNCiAgY3JlYXRlZCgpIHsNCiAgICAvLyBjb25zb2xlLmxvZygibGlzdCIsIHRoaXMubGlzdCk7DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXRNYXAoKTsgLy/liJ3lp4vljJblnLDlm74NCiAgICB0aGlzLmFkZE1hcmtlcigpOw0KICAgIHRoaXMuZHJhd0JvdW5kcygpOw0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoWyJsYW5nIl0pLA0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBpbml0TWFwKCkgew0KICAgICAgLy/liJ3lp4vljJblnLDlm74NCiAgICAgIHRoaXMubWFwID0gbmV3IEFNYXAuTWFwKCJjb250YWluZXIiLCB7DQogICAgICAgIHJlc2l6ZUVuYWJsZTogdHJ1ZSwNCiAgICAgICAgem9vbTogOCwgLy/nuqfliKsNCiAgICAgICAgem9vbXM6IFs2LjUsIDE4XSwNCiAgICAgICAgY2VudGVyOiBbMTE1LjQ2NDUyMywgMzguODc0NDc2XSwgLy/kuK3lv4PngrnlnZDmoIcNCiAgICAgICAgdmlld01vZGU6ICIzRCIsIC8v5L2/55SoM0Top4blm74NCiAgICAgICAgbGFuZzogdGhpcy5sYW5nLA0KICAgICAgICBtYXBTdHlsZTogImFtYXA6Ly9zdHlsZXMvZGI5ZWZlNmExNzQ1YWMyNGI3MjY5Yjg2MmYzNTk1MzYiLA0KICAgICAgICBpbmZvV2luZG93OiBudWxsLA0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIC8vIOijgeWJqui+ueeVjA0KICAgIGRyYXdCb3VuZHMoKSB7DQogICAgICBpZiAoIXRoaXMuZGlzdHJpY3QpIHsNCiAgICAgICAgLy/lrp7kvovljJZEaXN0cmljdFNlYXJjaA0KICAgICAgICB2YXIgb3B0cyA9IHsNCiAgICAgICAgICBzdWJkaXN0cmljdDogMCwgLy/ojrflj5bovrnnlYzkuI3pnIDopoHov5Tlm57kuIvnuqfooYzmlL/ljLoNCiAgICAgICAgICBleHRlbnNpb25zOiAiYWxsIiwgLy/ov5Tlm57ooYzmlL/ljLrovrnnlYzlnZDmoIfnu4TnrYnlhbfkvZPkv6Hmga8NCiAgICAgICAgICBsZXZlbDogInByb3ZpbmNlIiwgLy/mn6Xor6LooYzmlL/nuqfliKvkuLog5biCDQogICAgICAgIH07DQogICAgICAgIHRoaXMuZGlzdHJpY3QgPSBuZXcgQU1hcC5EaXN0cmljdFNlYXJjaChvcHRzKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZGlzdHJpY3Quc2V0TGV2ZWwoInByb3ZpbmNlIik7DQogICAgICB2YXIgX3RoaXMgPSB0aGlzOw0KICAgICAgdGhpcy5kaXN0cmljdC5zZWFyY2goIuays+WMl+ecgSIsIGZ1bmN0aW9uIChzdGF0dXMsIHJlc3VsdCkgew0KICAgICAgICAvLyDmsrPljJfnnIHovrnnlYwNCiAgICAgICAgLy8gdmFyIGJvdW5kcyA9IHJlc3VsdC5kaXN0cmljdExpc3RbMF0uYm91bmRhcmllczsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdHVzKTsNCg0KICAgICAgICB2YXIgb3V0ZXIgPSBbDQogICAgICAgICAgbmV3IEFNYXAuTG5nTGF0KC0zNjAsIDkwLCB0cnVlKSwNCiAgICAgICAgICBuZXcgQU1hcC5MbmdMYXQoLTM2MCwgLTkwLCB0cnVlKSwNCiAgICAgICAgICBuZXcgQU1hcC5MbmdMYXQoMzYwLCAtOTAsIHRydWUpLA0KICAgICAgICAgIG5ldyBBTWFwLkxuZ0xhdCgzNjAsIDkwLCB0cnVlKSwNCiAgICAgICAgXTsNCiAgICAgICAgdmFyIGhvbGVzID0gcmVzdWx0LmRpc3RyaWN0TGlzdFswXS5ib3VuZGFyaWVzOw0KDQogICAgICAgIHZhciBwYXRoQXJyYXkgPSBbb3V0ZXJdOw0KICAgICAgICBwYXRoQXJyYXkucHVzaC5hcHBseShwYXRoQXJyYXksIGhvbGVzKTsNCiAgICAgICAgdmFyIHBvbHlnb24gPSBuZXcgQU1hcC5Qb2x5Z29uKHsNCiAgICAgICAgICBwYXRoTDogcGF0aEFycmF5LA0KICAgICAgICAgIHN0cm9rZUNvbG9yOiAiI0Y5RDVBNyIsDQogICAgICAgICAgc3Ryb2tlV2VpZ2h0OiAxLA0KICAgICAgICAgIGZpbGxDb2xvcjogIiNGOUQ1QTciLA0KICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjIsDQogICAgICAgIH0pOw0KICAgICAgICBwb2x5Z29uLnNldFBhdGgocGF0aEFycmF5KTsNCiAgICAgICAgX3RoaXMubWFwLmFkZChwb2x5Z29uKTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvL+e7tOS/rueCueS9jea3u+WKoHN0YXJ0LS0tLS0tLS0tLS0tLS0tLQ0KICAgIC8vIOa3u+WKoOW3peS4mumBl+S6p+eCuembhg0KICAgIGFzeW5jIGFkZE1hcmtlcigpIHsNCiAgICAgIC8vIOWvueaKpeS/ruWIl+ihqOi/m+ihjOWIhuexu3N0YXJ0DQogICAgICB2YXIgcmVzID0gbnVsbDsNCiAgICAgIHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldCgiL2dldEFwcGx5UmVwYWlyRGF0YS9nZXRBcHBseVJlcGFpckRhdGEiKTsNCiAgICAgIGNvbnNvbGUubG9nKCLmiqXkv67liJfooagiLCByZXMpOw0KICAgICAgdGhpcy5kYXRhTGlzdFBlbmRpbmcgPSByZXMuZGF0YS5kYXRhLmZpbHRlcigNCiAgICAgICAgKGVsZSkgPT4gZWxlLmFwcHJvdmFsU3RhdHVzID09PSAicGVuZGluZyINCiAgICAgICk7DQogICAgICAvLyBjb25zb2xlLmxvZygi5b6F5a6h5om55YiX6KGoIiwgdGhpcy5kYXRhTGlzdFBlbmRpbmcpOw0KICAgICAgdGhpcy5kYXRhTGlzdEFkb3B0ID0gcmVzLmRhdGEuZGF0YS5maWx0ZXIoKGVsZSkgPT4gew0KICAgICAgICB2YXIgaXNQZW5kaW5nID0gdGhpcy5kYXRhTGlzdFBlbmRpbmcuZmluZCgNCiAgICAgICAgICAoY2hlKSA9PiBjaGUubmFtZSA9PT0gZWxlLm5hbWUNCiAgICAgICAgKTsNCiAgICAgICAgcmV0dXJuIGVsZS5hcHByb3ZhbFN0YXR1cyA9PT0gImFkb3B0IiAmJiAhaXNQZW5kaW5nOw0KICAgICAgfSk7DQogICAgICAvLyBjb25zb2xlLmxvZygi5aSE55CG5Lit5YiX6KGoIiwgdGhpcy5kYXRhTGlzdEFkb3B0KTsNCiAgICAgIHRoaXMuZGF0YUxpc3RSZWplY3QgPSByZXMuZGF0YS5kYXRhLmZpbHRlcigoZWxlKSA9PiB7DQogICAgICAgIHZhciBpc1BlbmRpbmcgPSB0aGlzLmRhdGFMaXN0UGVuZGluZy5maW5kKA0KICAgICAgICAgIChjaGUpID0+IGNoZS5uYW1lID09PSBlbGUubmFtZQ0KICAgICAgICApOw0KICAgICAgICB2YXIgaXNhZG9wdCA9IHRoaXMuZGF0YUxpc3RBZG9wdC5maW5kKChjaGUpID0+IGNoZS5uYW1lID09PSBlbGUubmFtZSk7DQogICAgICAgIHJldHVybiBlbGUuYXBwcm92YWxTdGF0dXMgPT09ICJyZWplY3QiICYmICFpc1BlbmRpbmcgJiYgIWlzYWRvcHQ7DQogICAgICB9KTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKCLlt7LpqbPlm57liJfooagiLCB0aGlzLmRhdGFMaXN0UmVqZWN0KTsNCiAgICAgIHRoaXMuZGF0YUxpc3RJc2VuZCA9IHJlcy5kYXRhLmRhdGEuZmlsdGVyKChlbGUpID0+IHsNCiAgICAgICAgdmFyIGlzUGVuZGluZyA9IHRoaXMuZGF0YUxpc3RQZW5kaW5nLmZpbmQoDQogICAgICAgICAgKGNoZSkgPT4gY2hlLm5hbWUgPT09IGVsZS5uYW1lDQogICAgICAgICk7DQogICAgICAgIHZhciBpc2Fkb3B0ID0gdGhpcy5kYXRhTGlzdEFkb3B0LmZpbmQoKGNoZSkgPT4gY2hlLm5hbWUgPT09IGVsZS5uYW1lKTsNCiAgICAgICAgdmFyIGlzcmVqZWN0ID0gdGhpcy5kYXRhTGlzdFJlamVjdC5maW5kKChjaGUpID0+IGNoZS5uYW1lID09PSBlbGUubmFtZSk7DQogICAgICAgIHJldHVybiAoDQogICAgICAgICAgZWxlLmFwcHJvdmFsU3RhdHVzID09PSAiaXNlbmQiICYmICFpc1BlbmRpbmcgJiYgIWlzYWRvcHQgJiYgIWlzcmVqZWN0DQogICAgICAgICk7DQogICAgICB9KTsNCiAgICAgIGNvbnNvbGUubG9nKCLlt7LlrozmiJDliJfooagiLCB0aGlzLmRhdGFMaXN0SXNlbmQpOw0KICAgICAgdGhpcy5kYXRhbGlzdCA9IFsNCiAgICAgICAgdGhpcy5kYXRhTGlzdFBlbmRpbmcsDQogICAgICAgIHRoaXMuZGF0YUxpc3RBZG9wdCwNCiAgICAgICAgdGhpcy5kYXRhTGlzdFJlamVjdCwNCiAgICAgICAgdGhpcy5kYXRhTGlzdElzZW5kLA0KICAgICAgXTsNCiAgICAgIC8vIOWvueaKpeS/ruWIl+ihqOi/m+ihjOWIhuexu2VuZA0KDQogICAgICBjb25zb2xlLmxvZygi54K55L2N57uY5Yi25a6M5oiQIiwgdGhpcy5kYXRhbGlzdCk7DQoNCiAgICAgIGZvciAobGV0IG0gPSAwOyBtIDwgdGhpcy5kYXRhbGlzdC5sZW5ndGg7IG0rKykgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YWxpc3RbbV0ubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAvLyDlvqrnjq/ngrnlnZDmoIcNCiAgICAgICAgICAvLyDms6jmhI/ov5nph4zkuIDlrprlvpfnlKggbGV0DQogICAgICAgICAgbGV0IG1hcmtlcjsNCiAgICAgICAgICBpZiAobSA9PT0gMCkgew0KICAgICAgICAgICAgbWFya2VyID0gbmV3IEFNYXAuTWFya2VyKHsNCiAgICAgICAgICAgICAgLy8g6Ieq5a6a5LmJ5Zu+5qCHDQogICAgICAgICAgICAgIGljb246IG5ldyBBTWFwLkljb24oew0KICAgICAgICAgICAgICAgIGltYWdlOg0KICAgICAgICAgICAgICAgICAgImh0dHBzOi8vdmtjZXl1Z3UuY2RuLmJzcGFwcC5jb20vVktDRVlVR1UtNzkwZDViODUtOTY3NC00YTg5LTliY2MtYzA2NTdlYTM2OWJlL2FkYTY2M2Y2LThlMjQtNDNiYy1hNmMxLWNlMTJmN2YxOWQ2Ni5wbmciLA0KICAgICAgICAgICAgICAgIHNpemU6IG5ldyBBTWFwLlNpemUoNDAsIDQwKSwNCiAgICAgICAgICAgICAgICBpbWFnZVNpemU6IG5ldyBBTWFwLlNpemUoNDAsIDQwKSwNCiAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgIG1hcDogdGhpcy5tYXAsDQogICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmRhdGFsaXN0W21dW2ldLmNvb3JkaW5hdGUsDQogICAgICAgICAgICAgIGV4dERhdGE6IHRoaXMuZGF0YWxpc3RbbV1baV0sDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2UgaWYgKG0gPT09IDEpIHsNCiAgICAgICAgICAgIG1hcmtlciA9IG5ldyBBTWFwLk1hcmtlcih7DQogICAgICAgICAgICAgIC8vIOiHquWumuS5ieWbvuaghw0KICAgICAgICAgICAgICBpY29uOiBuZXcgQU1hcC5JY29uKHsNCiAgICAgICAgICAgICAgICBpbWFnZToNCiAgICAgICAgICAgICAgICAgICJodHRwczovL3ZrY2V5dWd1LmNkbi5ic3BhcHAuY29tL1ZLQ0VZVUdVLTc5MGQ1Yjg1LTk2NzQtNGE4OS05YmNjLWMwNjU3ZWEzNjliZS9jNGM4ZTMwZS1lZDlhLTRjMGYtYmNhNS05MDE5Y2E0OGE0YWEucG5nIiwNCiAgICAgICAgICAgICAgICBzaXplOiBuZXcgQU1hcC5TaXplKDQwLCA0MCksDQogICAgICAgICAgICAgICAgaW1hZ2VTaXplOiBuZXcgQU1hcC5TaXplKDQwLCA0MCksDQogICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICBtYXA6IHRoaXMubWFwLA0KICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5kYXRhbGlzdFttXVtpXS5jb29yZGluYXRlLA0KICAgICAgICAgICAgICBleHREYXRhOiB0aGlzLmRhdGFsaXN0W21dW2ldLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIGlmIChtID09PSAyKSB7DQogICAgICAgICAgICBtYXJrZXIgPSBuZXcgQU1hcC5NYXJrZXIoew0KICAgICAgICAgICAgICAvLyDoh6rlrprkuYnlm77moIcNCiAgICAgICAgICAgICAgaWNvbjogbmV3IEFNYXAuSWNvbih7DQogICAgICAgICAgICAgICAgaW1hZ2U6DQogICAgICAgICAgICAgICAgICAiaHR0cHM6Ly92a2NleXVndS5jZG4uYnNwYXBwLmNvbS9WS0NFWVVHVS03OTBkNWI4NS05Njc0LTRhODktOWJjYy1jMDY1N2VhMzY5YmUvN2Y0ODNhYTgtN2EzMS00ZjNkLWE4NGYtYzUyOTA3MTI0MjRkLnBuZyIsDQogICAgICAgICAgICAgICAgc2l6ZTogbmV3IEFNYXAuU2l6ZSg0MCwgNDApLA0KICAgICAgICAgICAgICAgIGltYWdlU2l6ZTogbmV3IEFNYXAuU2l6ZSg0MCwgNDApLA0KICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgbWFwOiB0aGlzLm1hcCwNCiAgICAgICAgICAgICAgcG9zaXRpb246IHRoaXMuZGF0YWxpc3RbbV1baV0uY29vcmRpbmF0ZSwNCiAgICAgICAgICAgICAgZXh0RGF0YTogdGhpcy5kYXRhbGlzdFttXVtpXSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSBpZiAobSA9PT0gMykgew0KICAgICAgICAgICAgbWFya2VyID0gbmV3IEFNYXAuTWFya2VyKHsNCiAgICAgICAgICAgICAgLy8g6Ieq5a6a5LmJ5Zu+5qCHDQogICAgICAgICAgICAgIGljb246IG5ldyBBTWFwLkljb24oew0KICAgICAgICAgICAgICAgIGltYWdlOg0KICAgICAgICAgICAgICAgICAgImh0dHBzOi8vdmtjZXl1Z3UuY2RuLmJzcGFwcC5jb20vVktDRVlVR1UtNzkwZDViODUtOTY3NC00YTg5LTliY2MtYzA2NTdlYTM2OWJlL2FkMzJkMzdlLTgyYmMtNGM3My04ODU5LWVkYTg3NmI1OTY4My5wbmciLA0KICAgICAgICAgICAgICAgIHNpemU6IG5ldyBBTWFwLlNpemUoNDAsIDQwKSwNCiAgICAgICAgICAgICAgICBpbWFnZVNpemU6IG5ldyBBTWFwLlNpemUoNDAsIDQwKSwNCiAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgIG1hcDogdGhpcy5tYXAsDQogICAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmRhdGFsaXN0W21dW2ldLmNvb3JkaW5hdGUsDQogICAgICAgICAgICAgIGV4dERhdGE6IHRoaXMuZGF0YWxpc3RbbV1baV0sDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5tYXJrZXJzLnB1c2gobWFya2VyKTsNCg0KICAgICAgICAgIGNvbnNvbGUubG9nKCLngrnkvY3nu5jliLblrozmiJAiKTsNCg0KICAgICAgICAgIEFNYXAuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAiY2xpY2siLCAoKSA9PiB7DQogICAgICAgICAgICAvLyB0aGlzLm5vd01hcmtlciA9IG1hcmtlcjsNCg0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbmZvV2luZG93KTsNCiAgICAgICAgICAgIHRoaXMudGl0bGUgPQ0KICAgICAgICAgICAgICB0aGlzLmRhdGFsaXN0W21dW2ldLm5hbWUgKw0KICAgICAgICAgICAgICAnPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMXB4OyI+5bu65LqO77yaJyArDQogICAgICAgICAgICAgIHRoaXMuZGF0YWxpc3RbbV1baV0uc3RhcnQgKw0KICAgICAgICAgICAgICAiPC9zcGFuPiI7DQoNCiAgICAgICAgICAgICh0aGlzLmNvbnRlbnQgPSBbDQogICAgICAgICAgICAgICI8aW1nIHNyYz0nIiArDQogICAgICAgICAgICAgICAgdGhpcy5kYXRhbGlzdFttXVtpXS5tYWluSW1hZ2UgKw0KICAgICAgICAgICAgICAgICInc3R5bGU9J3d0ZHRoOjEwMHB4O2hlaWdodDphdXRvOyc+55Sz6K+35Lq677yaIiArDQogICAgICAgICAgICAgICAgdGhpcy5kYXRhbGlzdFttXVtpXS5hcHBseU5hbWUsDQogICAgICAgICAgICAgIC8vICLljZXkvY3lkI3np7DvvJoiICsgdGhpcy5kYXRhbGlzdFttXVtpXS5jb21wYW55LA0KICAgICAgICAgICAgICAi55Sz6K+357G75Z6L77yaIiArIHRoaXMuZGF0YWxpc3RbbV1baV0ucmVwYWlyVHlwZSwNCiAgICAgICAgICAgICAgIuiBlOezu+aWueW8j++8miIgKyB0aGlzLmRhdGFsaXN0W21dW2ldLnBob25lLA0KICAgICAgICAgICAgICBgPGEgaHJlZj0iIy9yZXBhaXIvYXBwcm92ZWAgKyBgIiBjbGFzcz0ieGlhbmd4aSI+6K+m57uG5L+h5oGvPC9hPmAsDQogICAgICAgICAgICBdKSwNCiAgICAgICAgICAgICAgKHRoaXMuaW5mb1dpbmRvdyA9IG5ldyBBTWFwLkluZm9XaW5kb3coew0KICAgICAgICAgICAgICAgIGlzQ3VzdG9tOiB0cnVlLCAvL+S9v+eUqOiHquWumuS5ieeql+S9kw0KICAgICAgICAgICAgICAgIC8vIGNvbnRlbnQ6ICcgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6d2hpdGUiPjExMTwvZGl2PicsDQogICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5jcmVhdGVJbmZvV2luZG93KA0KICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSwNCiAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5qb2luKCI8YnIvPiIpDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICBvZmZzZXQ6IG5ldyBBTWFwLlBpeGVsKDE2LCAtNDUpLA0KICAgICAgICAgICAgICB9KSk7DQogICAgICAgICAgICB0aGlzLmluZm9XaW5kb3cub3Blbih0aGlzLm1hcCwgbWFya2VyLmdldFBvc2l0aW9uKCkpOw0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWFya2VyLmdldFBvc2l0aW9uKCkpOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCg0KICAgIC8v5riy5p+T6YGX5Lqn5by55qGGDQogICAgY3JlYXRlSW5mb1dpbmRvdyh0aXRsZSwgY29udGVudCkgew0KICAgICAgLy8gY29uc29sZS5sb2coIjExMTExMTExIik7DQogICAgICB2YXIgaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgaW5mby5jbGFzc05hbWUgPSAiY3VzdG9tLWluZm8gaW5wdXQtY2FyZCBjb250ZW50LXdpbmRvdy1jYXJkIjsNCg0KICAgICAgLy/lj6/ku6XpgJrov4fkuIvpnaLnmoTmlrnlvI/kv67mlLnoh6rlrprkuYnnqpfkvZPnmoTlrr3pq5gNCiAgICAgIC8vaW5mby5zdHlsZS53aWR0aCA9ICI0MDBweCI7DQogICAgICAvLyDlrprkuYnpobbpg6jmoIfpopgNCiAgICAgIHZhciB0b3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgIHZhciB0aXRsZUQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgIHZhciBjbG9zZVggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsNCiAgICAgIHRvcC5jbGFzc05hbWUgPSAiaW5mby10b3AiOw0KICAgICAgdGl0bGVELmlubmVySFRNTCA9IHRpdGxlOw0KICAgICAgY2xvc2VYLnNyYyA9ICJodHRwczovL3dlYmFwaS5hbWFwLmNvbS9pbWFnZXMvY2xvc2UyLmdpZiI7DQogICAgICBjbG9zZVgub25jbGljayA9IHRoaXMuY2xvc2VJbmZvV2luZG93Ow0KDQogICAgICB0b3AuYXBwZW5kQ2hpbGQodGl0bGVEKTsNCiAgICAgIHRvcC5hcHBlbmRDaGlsZChjbG9zZVgpOw0KICAgICAgaW5mby5hcHBlbmRDaGlsZCh0b3ApOw0KDQogICAgICAvLyDlrprkuYnkuK3pg6jlhoXlrrkNCiAgICAgIHZhciBtaWRkbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgIG1pZGRsZS5jbGFzc05hbWUgPSAiaW5mby1taWRkbGUiOw0KICAgICAgbWlkZGxlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ3aGl0ZSI7DQogICAgICBtaWRkbGUuaW5uZXJIVE1MID0gY29udGVudDsNCiAgICAgIGluZm8uYXBwZW5kQ2hpbGQobWlkZGxlKTsNCg0KICAgICAgLy8g5a6a5LmJ5bqV6YOo5YaF5a65DQogICAgICB2YXIgYm90dG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICBib3R0b20uY2xhc3NOYW1lID0gImluZm8tYm90dG9tIjsNCiAgICAgIGJvdHRvbS5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7DQogICAgICBib3R0b20uc3R5bGUudG9wID0gIjBweCI7DQogICAgICBib3R0b20uc3R5bGUubWFyZ2luID0gIjAgYXV0byI7DQogICAgICB2YXIgc2hhcnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsNCiAgICAgIHNoYXJwLnNyYyA9ICJodHRwczovL3dlYmFwaS5hbWFwLmNvbS9pbWFnZXMvc2hhcnAucG5nIjsNCiAgICAgIGJvdHRvbS5hcHBlbmRDaGlsZChzaGFycCk7DQogICAgICBpbmZvLmFwcGVuZENoaWxkKGJvdHRvbSk7DQogICAgICByZXR1cm4gaW5mbzsNCiAgICB9LA0KDQogICAgLy8g5YWz6Zet6YGX5Lqn5by55qGGDQogICAgY2xvc2VJbmZvV2luZG93KCkgew0KICAgICAgdGhpcy5tYXAuY2xlYXJJbmZvV2luZG93KCk7DQogICAgICB0aGlzLnNlYXJjaEluZHVzdHJ5ID0gbnVsbDsNCiAgICB9LA0KICAgIC8vIOe7tOS/rueCueS9jea3u+WKoGVuZC0tLS0tLS0tLS0tLS0tLS0NCiAgfSwNCn07DQo="},{"version":3,"sources":["HeritageRepairMap.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeritageRepairMap.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <!-- 遗产维修现状 -->\r\n  <div class=\"heritage-Hot-Map\">\r\n    <div class=\"heritage-industry\">\r\n      <!-- 地图容器 -->\r\n      <div id=\"container\" class=\"container\"></div>\r\n      <!-- 图例盒子 -->\r\n      <div class=\"legend-repair\">\r\n        <h4>图例</h4>\r\n        <div class=\"legend-che\">\r\n          <img\r\n            src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ada663f6-8e24-43bc-a6c1-ce12f7f19d66.png\"\r\n            alt=\"\"\r\n          />\r\n          <span>待审批遗产</span>\r\n        </div>\r\n        <div class=\"legend-che\">\r\n          <img\r\n            src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/c4c8e30e-ed9a-4c0f-bca5-9019ca48a4aa.png\"\r\n            alt=\"\"\r\n          />\r\n          <span>处理中遗产</span>\r\n        </div>\r\n        <div class=\"legend-che\">\r\n          <img\r\n            src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/7f483aa8-7a31-4f3d-a84f-c5290712424d.png\"\r\n            alt=\"\"\r\n          />\r\n          <span>已驳回遗产</span>\r\n        </div>\r\n        <div class=\"legend-che\">\r\n          <img\r\n            src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ad32d37e-82bc-4c73-8859-eda876b59683.png\"\r\n            alt=\"\"\r\n          />\r\n          <span>已完成遗产</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\" src=\"https://webapi.amap.com/maps?v=1.4.15&key=2eccb47b400c8ab58f2dc596dbfe9d53&plugin=AMap.MouseTool,AMap.DistrictSearch\"></script>\r\n\r\n    <script src=\"https://webapi.amap.com/loca?v=1.3.2&key=2eccb47b400c8ab58f2dc596dbfe9d53\"></script>\r\n    \r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      map: \"\",\r\n      district: null,\r\n      polygons: [],\r\n      markers: [],\r\n      marker: null, //工业遗产点位\r\n\r\n      // 地图变量\r\n\r\n      dataListPending: [], //地图数据待审批\r\n      dataListAdopt: [], //地图数据处理中\r\n      dataListReject: [], //地图数据已驳回\r\n      dataListIsend: [], //地图数据已完成\r\n      datalist: [],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // console.log(\"list\", this.list);\r\n  },\r\n\r\n  mounted() {\r\n    this.initMap(); //初始化地图\r\n    this.addMarker();\r\n    this.drawBounds();\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"lang\"]),\r\n  },\r\n\r\n  methods: {\r\n    initMap() {\r\n      //初始化地图\r\n      this.map = new AMap.Map(\"container\", {\r\n        resizeEnable: true,\r\n        zoom: 8, //级别\r\n        zooms: [6.5, 18],\r\n        center: [115.464523, 38.874476], //中心点坐标\r\n        viewMode: \"3D\", //使用3D视图\r\n        lang: this.lang,\r\n        mapStyle: \"amap://styles/db9efe6a1745ac24b7269b862f359536\",\r\n        infoWindow: null,\r\n      });\r\n    },\r\n\r\n    // 裁剪边界\r\n    drawBounds() {\r\n      if (!this.district) {\r\n        //实例化DistrictSearch\r\n        var opts = {\r\n          subdistrict: 0, //获取边界不需要返回下级行政区\r\n          extensions: \"all\", //返回行政区边界坐标组等具体信息\r\n          level: \"province\", //查询行政级别为 市\r\n        };\r\n        this.district = new AMap.DistrictSearch(opts);\r\n      }\r\n      this.district.setLevel(\"province\");\r\n      var _this = this;\r\n      this.district.search(\"河北省\", function (status, result) {\r\n        // 河北省边界\r\n        // var bounds = result.districtList[0].boundaries;\r\n        // console.log(result);\r\n        // console.log(status);\r\n\r\n        var outer = [\r\n          new AMap.LngLat(-360, 90, true),\r\n          new AMap.LngLat(-360, -90, true),\r\n          new AMap.LngLat(360, -90, true),\r\n          new AMap.LngLat(360, 90, true),\r\n        ];\r\n        var holes = result.districtList[0].boundaries;\r\n\r\n        var pathArray = [outer];\r\n        pathArray.push.apply(pathArray, holes);\r\n        var polygon = new AMap.Polygon({\r\n          pathL: pathArray,\r\n          strokeColor: \"#F9D5A7\",\r\n          strokeWeight: 1,\r\n          fillColor: \"#F9D5A7\",\r\n          fillOpacity: 0.2,\r\n        });\r\n        polygon.setPath(pathArray);\r\n        _this.map.add(polygon);\r\n      });\r\n    },\r\n\r\n    //维修点位添加start----------------\r\n    // 添加工业遗产点集\r\n    async addMarker() {\r\n      // 对报修列表进行分类start\r\n      var res = null;\r\n      res = await this.$axios.get(\"/getApplyRepairData/getApplyRepairData\");\r\n      console.log(\"报修列表\", res);\r\n      this.dataListPending = res.data.data.filter(\r\n        (ele) => ele.approvalStatus === \"pending\"\r\n      );\r\n      // console.log(\"待审批列表\", this.dataListPending);\r\n      this.dataListAdopt = res.data.data.filter((ele) => {\r\n        var isPending = this.dataListPending.find(\r\n          (che) => che.name === ele.name\r\n        );\r\n        return ele.approvalStatus === \"adopt\" && !isPending;\r\n      });\r\n      // console.log(\"处理中列表\", this.dataListAdopt);\r\n      this.dataListReject = res.data.data.filter((ele) => {\r\n        var isPending = this.dataListPending.find(\r\n          (che) => che.name === ele.name\r\n        );\r\n        var isadopt = this.dataListAdopt.find((che) => che.name === ele.name);\r\n        return ele.approvalStatus === \"reject\" && !isPending && !isadopt;\r\n      });\r\n      // console.log(\"已驳回列表\", this.dataListReject);\r\n      this.dataListIsend = res.data.data.filter((ele) => {\r\n        var isPending = this.dataListPending.find(\r\n          (che) => che.name === ele.name\r\n        );\r\n        var isadopt = this.dataListAdopt.find((che) => che.name === ele.name);\r\n        var isreject = this.dataListReject.find((che) => che.name === ele.name);\r\n        return (\r\n          ele.approvalStatus === \"isend\" && !isPending && !isadopt && !isreject\r\n        );\r\n      });\r\n      console.log(\"已完成列表\", this.dataListIsend);\r\n      this.datalist = [\r\n        this.dataListPending,\r\n        this.dataListAdopt,\r\n        this.dataListReject,\r\n        this.dataListIsend,\r\n      ];\r\n      // 对报修列表进行分类end\r\n\r\n      console.log(\"点位绘制完成\", this.datalist);\r\n\r\n      for (let m = 0; m < this.datalist.length; m++) {\r\n        for (let i = 0; i < this.datalist[m].length; i++) {\r\n          // 循环点坐标\r\n          // 注意这里一定得用 let\r\n          let marker;\r\n          if (m === 0) {\r\n            marker = new AMap.Marker({\r\n              // 自定义图标\r\n              icon: new AMap.Icon({\r\n                image:\r\n                  \"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ada663f6-8e24-43bc-a6c1-ce12f7f19d66.png\",\r\n                size: new AMap.Size(40, 40),\r\n                imageSize: new AMap.Size(40, 40),\r\n              }),\r\n              map: this.map,\r\n              position: this.datalist[m][i].coordinate,\r\n              extData: this.datalist[m][i],\r\n            });\r\n          } else if (m === 1) {\r\n            marker = new AMap.Marker({\r\n              // 自定义图标\r\n              icon: new AMap.Icon({\r\n                image:\r\n                  \"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/c4c8e30e-ed9a-4c0f-bca5-9019ca48a4aa.png\",\r\n                size: new AMap.Size(40, 40),\r\n                imageSize: new AMap.Size(40, 40),\r\n              }),\r\n              map: this.map,\r\n              position: this.datalist[m][i].coordinate,\r\n              extData: this.datalist[m][i],\r\n            });\r\n          } else if (m === 2) {\r\n            marker = new AMap.Marker({\r\n              // 自定义图标\r\n              icon: new AMap.Icon({\r\n                image:\r\n                  \"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/7f483aa8-7a31-4f3d-a84f-c5290712424d.png\",\r\n                size: new AMap.Size(40, 40),\r\n                imageSize: new AMap.Size(40, 40),\r\n              }),\r\n              map: this.map,\r\n              position: this.datalist[m][i].coordinate,\r\n              extData: this.datalist[m][i],\r\n            });\r\n          } else if (m === 3) {\r\n            marker = new AMap.Marker({\r\n              // 自定义图标\r\n              icon: new AMap.Icon({\r\n                image:\r\n                  \"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ad32d37e-82bc-4c73-8859-eda876b59683.png\",\r\n                size: new AMap.Size(40, 40),\r\n                imageSize: new AMap.Size(40, 40),\r\n              }),\r\n              map: this.map,\r\n              position: this.datalist[m][i].coordinate,\r\n              extData: this.datalist[m][i],\r\n            });\r\n          }\r\n          this.markers.push(marker);\r\n\r\n          console.log(\"点位绘制完成\");\r\n\r\n          AMap.event.addListener(marker, \"click\", () => {\r\n            // this.nowMarker = marker;\r\n\r\n            // console.log(this.infoWindow);\r\n            this.title =\r\n              this.datalist[m][i].name +\r\n              '<span style=\"font-size:11px;\">建于：' +\r\n              this.datalist[m][i].start +\r\n              \"</span>\";\r\n\r\n            (this.content = [\r\n              \"<img src='\" +\r\n                this.datalist[m][i].mainImage +\r\n                \"'style='wtdth:100px;height:auto;'>申请人：\" +\r\n                this.datalist[m][i].applyName,\r\n              // \"单位名称：\" + this.datalist[m][i].company,\r\n              \"申请类型：\" + this.datalist[m][i].repairType,\r\n              \"联系方式：\" + this.datalist[m][i].phone,\r\n              `<a href=\"#/repair/approve` + `\" class=\"xiangxi\">详细信息</a>`,\r\n            ]),\r\n              (this.infoWindow = new AMap.InfoWindow({\r\n                isCustom: true, //使用自定义窗体\r\n                // content: '  <div style=\"background-color:white\">111</div>',\r\n                content: this.createInfoWindow(\r\n                  this.title,\r\n                  this.content.join(\"<br/>\")\r\n                ),\r\n                offset: new AMap.Pixel(16, -45),\r\n              }));\r\n            this.infoWindow.open(this.map, marker.getPosition());\r\n            // console.log(marker.getPosition());\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    //渲染遗产弹框\r\n    createInfoWindow(title, content) {\r\n      // console.log(\"11111111\");\r\n      var info = document.createElement(\"div\");\r\n      info.className = \"custom-info input-card content-window-card\";\r\n\r\n      //可以通过下面的方式修改自定义窗体的宽高\r\n      //info.style.width = \"400px\";\r\n      // 定义顶部标题\r\n      var top = document.createElement(\"div\");\r\n      var titleD = document.createElement(\"div\");\r\n      var closeX = document.createElement(\"img\");\r\n      top.className = \"info-top\";\r\n      titleD.innerHTML = title;\r\n      closeX.src = \"https://webapi.amap.com/images/close2.gif\";\r\n      closeX.onclick = this.closeInfoWindow;\r\n\r\n      top.appendChild(titleD);\r\n      top.appendChild(closeX);\r\n      info.appendChild(top);\r\n\r\n      // 定义中部内容\r\n      var middle = document.createElement(\"div\");\r\n      middle.className = \"info-middle\";\r\n      middle.style.backgroundColor = \"white\";\r\n      middle.innerHTML = content;\r\n      info.appendChild(middle);\r\n\r\n      // 定义底部内容\r\n      var bottom = document.createElement(\"div\");\r\n      bottom.className = \"info-bottom\";\r\n      bottom.style.position = \"relative\";\r\n      bottom.style.top = \"0px\";\r\n      bottom.style.margin = \"0 auto\";\r\n      var sharp = document.createElement(\"img\");\r\n      sharp.src = \"https://webapi.amap.com/images/sharp.png\";\r\n      bottom.appendChild(sharp);\r\n      info.appendChild(bottom);\r\n      return info;\r\n    },\r\n\r\n    // 关闭遗产弹框\r\n    closeInfoWindow() {\r\n      this.map.clearInfoWindow();\r\n      this.searchIndustry = null;\r\n    },\r\n    // 维修点位添加end----------------\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.legend-repair {\r\n  position: fixed;\r\n  right: 15px;\r\n  top: 15px;\r\n  z-index: 9999;\r\n  background-color: white;\r\n  width: 130px;\r\n  padding: 10px 20px;\r\n  border-radius: 0.25rem;\r\n  box-shadow: 0 2px 6px 0 rgb(114 124 245 / 50%);\r\n}\r\n.legend-repair h4 {\r\n  font-weight: bold;\r\n  font-size: 12px;\r\n  padding-left: 7px;\r\n}\r\n.legend-repair .legend-che {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n.legend-repair .legend-che img {\r\n  width: 40px;\r\n  height: auto;\r\n}\r\n.legend-repair .legend-che span {\r\n  padding-left: 10px;\r\n}\r\n</style>"]}]}