{"remainingRequest":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=css&","dependencies":[{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\src\\views\\Home.vue","mtime":1645970315605},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\css-loader\\dist\\cjs.js","mtime":1637922544066},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1637922548447},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\postcss-loader\\src\\index.js","mtime":1637922545893},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637922542348},{"path":"D:\\a-my-html\\html-GIS\\git-develop\\vue-industry-gis\\node_modules\\vue-loader\\lib\\index.js","mtime":1637922546721}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZWwtY2Fyb3VzZWxfX2l0ZW0gew0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIGNvbG9yOiAjNDc1NjY5Ow0KICBmb250LXNpemU6IDE0cHg7DQogIGxpbmUtaGVpZ2h0OiAzNTBweDsNCiAgbWFyZ2luOiAwOw0KfQ0KLmVsLWNhcm91c2VsX19pdGVtIC5pbWcxIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogYXV0bzsNCn0NCi5lbC1jYXJvdXNlbF9faXRlbSAuaW1nMiB7DQogIG1hcmdpbi10b3A6IC01JTsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogYXV0bzsNCn0NCi5lbC1jYXJvdXNlbF9faXRlbSAuaW1nMyB7DQogIG1hcmdpbi10b3A6IC0zMCU7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IGF1dG87DQp9DQouZWwtY2Fyb3VzZWxfX2l0ZW0gLmltZzUgew0KICBtYXJnaW4tdG9wOiAtMjUlOw0KICB3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiBhdXRvOw0KfQ0KLmVsLWNhcm91c2VsX19pdGVtIC5pbWc0IHsNCiAgbWFyZ2luLXRvcDogLTE2JTsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogYXV0bzsNCn0NCg0KLmVsLWNhcm91c2VsX19pdGVtOm50aC1jaGlsZCgybikgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTlhOWJmOw0KfQ0KDQouZWwtY2Fyb3VzZWxfX2l0ZW06bnRoLWNoaWxkKDJuICsgMSkgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDNkY2U2Ow0KfQ0KLmhvbWUtYm90dG9tLXVzZXJtYWluIHsNCiAgZGlzcGxheTogZmxleDsNCiAgcGFkZGluZy10b3A6IDE1cHg7DQp9DQouaG9tZS1ib3R0b20tdXNlcm1haW4gLnVzZXJtYWluLWxlZnQgew0KICB3aWR0aDogNjAlOw0KICBtYXJnaW4tcmlnaHQ6IDE1cHg7DQp9DQouaG9tZS1ib3R0b20tdXNlcm1haW4gLnVzZXJtYWluLXJpZ2h0IHsNCiAgd2lkdGg6IGNhbGMoNDAlIC0gMTVweCk7DQp9DQouaG9tZS1ib3R0b20tdXNlcm1haW4gLnVzZXJtYWluLXJpZ2h0IHNwYW4gew0KICBmb250LXNpemU6IDE2cHg7DQp9DQouaG9tZS1ib3R0b20tdXNlcm1haW4gLnVzZXJtYWluLXJpZ2h0IC5taW5pVGV4dCB7DQogIGZvbnQtc2l6ZTogMTRweDsNCiAgY29sb3I6ICM2MDYyNjY7DQp9DQoNCi5ob21lLWJvdHRvbS11c2VybWFpbiAudXNlcm1haW4tcmlnaHQgLnVzZXIsDQouaG9tZS1ib3R0b20tdXNlcm1haW4gLnVzZXJtYWluLXJpZ2h0IC5hZGRyZXNzIHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KfQ0KDQouaG9tZS1ib3R0b20tdXNlcm1haW4gLm5vdGljLWxpc3Qgew0KICBoZWlnaHQ6IDI1MHB4Ow0KICBvdmVyZmxvdzogYXV0bzsNCiAgbWFyZ2luLXRvcDogNXB4Ow0KfQ0KLmhvbWUtYm90dG9tLXVzZXJtYWluIC5ub3RpYy1saXN0IC5ub3RpYy1jaGUgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogIG1hcmdpbjogMTBweCAwOw0KICBjdXJzb3I6IHBvaW50ZXI7DQogIGNvbG9yOiAjNjA2MjY2Ow0KfQ0KLmhvbWUtYm90dG9tLXVzZXJtYWluIC5ub3RpYy1saXN0IC5ub3RpYy1jaGU6aG92ZXIgew0KICBjb2xvcjogYmxhY2s7DQogIC8qIGZvbnQtd2VpZ2h0OiA2MDA7ICovDQp9DQo6Oi13ZWJraXQtc2Nyb2xsYmFyIHsNCiAgLyrpmpDol4/mu5rova4qLw0KICBkaXNwbGF5OiBub25lOw0KfQ0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["\r\n\r\n<template>\r\n  <!-- 数据管理 -->\r\n  <div class=\"home\">\r\n    <MainTop> 首页 </MainTop>\r\n\r\n    <div class=\"home-bottom padding15\">\r\n      <div id=\"containerhome\"></div>\r\n      <div class=\"block\">\r\n        <el-carousel height=\"350px\" :interval=\"5000\">\r\n          <el-carousel-item>\r\n            <img\r\n              class=\"img1\"\r\n              src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/25239b78-3d66-4137-bf12-37f954432a42.png\"\r\n              alt=\"\"\r\n            />\r\n          </el-carousel-item>\r\n          <el-carousel-item>\r\n            <img\r\n              class=\"img2\"\r\n              src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/f0bc2a5c-46b3-4d3e-9f21-1d17b74a9d0b.png\"\r\n              alt=\"\"\r\n            />\r\n          </el-carousel-item>\r\n          <el-carousel-item>\r\n            <img\r\n              class=\"img3\"\r\n              src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/f4daba88-6815-4353-96b5-cd63d8069d63.png\"\r\n              alt=\"\"\r\n            />\r\n          </el-carousel-item>\r\n          <el-carousel-item>\r\n            <img\r\n              class=\"img4\"\r\n              src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ce4c4adb-16c8-413e-a940-b710b161e8ee.png\"\r\n              alt=\"\"\r\n            />\r\n          </el-carousel-item>\r\n          <el-carousel-item>\r\n            <img\r\n              class=\"img5\"\r\n              src=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-790d5b85-9674-4a89-9bcc-c0657ea369be/ba83ae49-e379-4cfa-908d-d25f4924ee35.png\"\r\n              alt=\"\"\r\n            />\r\n          </el-carousel-item>\r\n          <!-- <el-carousel-item v-for=\"item in 4\" :key=\"item\">\r\n            <h3 class=\"small\">{{ item }}</h3>\r\n          </el-carousel-item> -->\r\n        </el-carousel>\r\n      </div>\r\n      <div class=\"home-bottom-usermain\">\r\n        <div class=\"usermain-left\">\r\n          <el-card class=\"box-card\" style=\"height: 320px\">\r\n            <span style=\"font-size: 16px; font-weight: 600\">遗产要闻</span>\r\n            <div class=\"notic-list\">\r\n              <div\r\n                class=\"notic-che\"\r\n                @click=\"getNoticMain(ele)\"\r\n                v-for=\"ele in noticeList\"\r\n                :key=\"ele._id\"\r\n              >\r\n                <span>[{{ ele.region }}] {{ ele.name }}</span\r\n                ><span>{{ ele.date1 }}</span>\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </div>\r\n        <div class=\"usermain-right\">\r\n          <el-card class=\"box-card\" style=\"height: 320px\">\r\n            <div class=\"user\">\r\n              <span>{{ nowUser }}</span>\r\n              <el-tag v-if=\"nowUser === 'admin'\">管理员</el-tag>\r\n              <el-tag v-else type=\"info\">普通用户</el-tag>\r\n            </div>\r\n            <div class=\"address\">\r\n              <span>定位状态</span>\r\n              <el-tag v-if=\"geolocationRes.info !== 'SUCCESS'\" type=\"danger\"\r\n                >定位失败</el-tag\r\n              >\r\n              <el-tag v-else type=\"success\">定位成功</el-tag>\r\n            </div>\r\n            <div class=\"address\">\r\n              <span>定位类型</span>\r\n              <el-tag\r\n                v-if=\"geolocationRes.location_type === 'ip'\"\r\n                effect=\"plain\"\r\n                type=\"info\"\r\n                >网络定位</el-tag\r\n              >\r\n              <el-tag v-else effect=\"plain\" type=\"info\">本机定位</el-tag>\r\n            </div>\r\n            <div class=\"address\">\r\n              <span class=\"miniText\">{{\r\n                geolocationRes.formattedAddress\r\n              }}</span>\r\n            </div>\r\n\r\n            <!-- 天气部分 -->\r\n            <div class=\"weather\" v-if=\"todayWeather\">\r\n              <div class=\"address\">\r\n                <span class=\"miniText\">{{ todayWeather.reportTime }}</span>\r\n                <span class=\"miniText\">{{ todayWeather.city }}</span>\r\n              </div>\r\n              <div class=\"address\">\r\n                <span class=\"miniText\"\r\n                  >气温 {{ todayWeather.temperature }}</span\r\n                >\r\n                <span class=\"miniText\" v-if=\"todayWeather.temperature < 5\"\r\n                  >注意保暖</span\r\n                >\r\n                <span\r\n                  class=\"miniText\"\r\n                  v-if=\"\r\n                    todayWeather.temperature >= 5 &&\r\n                    todayWeather.temperature < 15\r\n                  \"\r\n                  >天气温暖，适合出行</span\r\n                >\r\n                <span class=\"miniText\" v-if=\"todayWeather.temperature >= 15\"\r\n                  >注意防暑</span\r\n                >\r\n              </div>\r\n              <div class=\"address\">\r\n                <span class=\"miniText\"\r\n                  >风向 {{ todayWeather.windDirection }}</span\r\n                >\r\n                <span class=\"miniText\">天气 {{ todayWeather.weather }}</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"weather\" v-else>\r\n              <div class=\"address\">\r\n                <span class=\"miniText\">天气获取失败</span>\r\n              </div>\r\n            </div>\r\n          </el-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\"\r\n    src=\"https://webapi.amap.com/maps?v=1.4.15&key=2eccb47b400c8ab58f2dc596dbfe9d53&plugin=AMap.MouseTool,AMap.Driving,AMap.DistrictSearch,AMap.Geocoder\"></script>\r\n<script>\r\nimport MainTop from \"../components/MainTop.vue\";\r\nexport default {\r\n  components: { MainTop },\r\n\r\n  data() {\r\n    return {\r\n      map: \"\",\r\n      geolocationRes: {}, //定位结果\r\n      dialogVisible: false, //查看当前位置对话框\r\n      geolocation: null,\r\n      nowUser: \"暂无用户\",\r\n      todayWeather: null,\r\n      fourDayWeatherList: null,\r\n      weatherPlace: null,\r\n\r\n      noticeList: [], //要闻列表\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.initMap();\r\n    this.nowUser = sessionStorage.getItem(\"username\");\r\n    this.getNoticeList();\r\n  },\r\n\r\n  methods: {\r\n    // 初始化获取定位\r\n    initMap() {\r\n      //初始化地图\r\n      this.map = new AMap.Map(\"containerhome\", {\r\n        resizeEnable: true,\r\n        // zoom: this.zoom, //级别\r\n        zooms: [6.5, 18],\r\n        // center: [115.464523, 38.874476], //中心点坐标\r\n        viewMode: \"3D\", //使用3D视图\r\n\r\n        mapStyle: \"amap://styles/macaron\",\r\n        // infoWindow: null,\r\n      });\r\n\r\n      AMap.plugin(\"AMap.Geolocation\", () => {\r\n        // console.log(111);\r\n        // 注意这里由于函数嵌套需要使用箭头函数\r\n        this.geolocation = new AMap.Geolocation({\r\n          enableHighAccuracy: true, //是否使用高精度定位，默认:true\r\n          timeout: 10000, //超过10秒后停止定位，默认：5s\r\n          buttonPosition: \"RB\", //定位按钮的停靠位置\r\n          buttonOffset: new AMap.Pixel(10, 20), //定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\r\n          zoomToAccuracy: true, //定位成功后是否自动调整地图视野到定位点\r\n        });\r\n        this.map.addControl(this.geolocation);\r\n        this.geolocation.getCurrentPosition((status, result) => {\r\n          if (status == \"complete\") {\r\n            // onComplete(result);\r\n            // console.log(\"定位结果\", result);\r\n            this.geolocationRes = result;\r\n            console.log(this.geolocationRes);\r\n            var start = this.geolocationRes.formattedAddress.search(\"省\");\r\n            var end = this.geolocationRes.formattedAddress.search(\"市\");\r\n\r\n            console.log(\"start\", start, end);\r\n\r\n            this.weatherPlace = this.geolocationRes.formattedAddress.slice(\r\n              start + 1,\r\n              end\r\n            );\r\n\r\n            // 获取天气预报start\r\n\r\n            console.log(\"当前地址\", this.weatherPlace);\r\n            AMap.plugin(\"AMap.Weather\", () => {\r\n              var weather = new AMap.Weather();\r\n\r\n              //查询实时天气信息, 查询的城市到行政级别的城市，如朝阳区、杭州市\r\n              weather.getLive(this.weatherPlace, (err, data) => {\r\n                if (!err) {\r\n                  console.log(\"当天天气\", data);\r\n                  this.todayWeather = data;\r\n                }\r\n              });\r\n              //未来4天天气预报\r\n              weather.getForecast(this.weatherPlace, (err, data) => {\r\n                if (err) {\r\n                  return;\r\n                }\r\n                console.log(\"4天天气\", data);\r\n                this.fourDayWeatherList = data.forecasts;\r\n                // console.log(\"四天天气\", this.fourDayWeatherList);\r\n              });\r\n            });\r\n            // 获取天气预报end\r\n          } else {\r\n            // onError(result);\r\n            this.$message.error(\r\n              \"定位失败，请检查浏览器权限。可以更换Eage浏览器进行定位。\"\r\n            );\r\n            console.log(\"定位结果\", result);\r\n          }\r\n        });\r\n      });\r\n\r\n      // 获取天气start\r\n    },\r\n\r\n    async getNoticeList() {\r\n      var res = await this.$axios.get(\"/getNoticeList/getNoticeList\");\r\n      console.log(res);\r\n      this.noticeList = res.data.data;\r\n    },\r\n    getNoticMain(ele) {\r\n      // console.log(ele);\r\n      this.$router.push({\r\n        path: \"/main/noticemain?_id=\" + ele._id,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-carousel__item {\r\n  text-align: center;\r\n  color: #475669;\r\n  font-size: 14px;\r\n  line-height: 350px;\r\n  margin: 0;\r\n}\r\n.el-carousel__item .img1 {\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n.el-carousel__item .img2 {\r\n  margin-top: -5%;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n.el-carousel__item .img3 {\r\n  margin-top: -30%;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n.el-carousel__item .img5 {\r\n  margin-top: -25%;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n.el-carousel__item .img4 {\r\n  margin-top: -16%;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n) {\r\n  background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n + 1) {\r\n  background-color: #d3dce6;\r\n}\r\n.home-bottom-usermain {\r\n  display: flex;\r\n  padding-top: 15px;\r\n}\r\n.home-bottom-usermain .usermain-left {\r\n  width: 60%;\r\n  margin-right: 15px;\r\n}\r\n.home-bottom-usermain .usermain-right {\r\n  width: calc(40% - 15px);\r\n}\r\n.home-bottom-usermain .usermain-right span {\r\n  font-size: 16px;\r\n}\r\n.home-bottom-usermain .usermain-right .miniText {\r\n  font-size: 14px;\r\n  color: #606266;\r\n}\r\n\r\n.home-bottom-usermain .usermain-right .user,\r\n.home-bottom-usermain .usermain-right .address {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.home-bottom-usermain .notic-list {\r\n  height: 250px;\r\n  overflow: auto;\r\n  margin-top: 5px;\r\n}\r\n.home-bottom-usermain .notic-list .notic-che {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n  cursor: pointer;\r\n  color: #606266;\r\n}\r\n.home-bottom-usermain .notic-list .notic-che:hover {\r\n  color: black;\r\n  /* font-weight: 600; */\r\n}\r\n::-webkit-scrollbar {\r\n  /*隐藏滚轮*/\r\n  display: none;\r\n}\r\n</style>\r\n"]}]}