{"remainingRequest":"D:\\Code Files\\VueFile\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code Files\\VueFile\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\src\\views\\LanLineDataList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code Files\\VueFile\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\src\\views\\LanLineDataList.vue","mtime":1724654326089},{"path":"D:\\Code Files\\VueFile\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code Files\\VueFile\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Code Files\\VueFile\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code Files\\VueFile\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czoge30sDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgIG1haW5EYXRhOiBbXSwNCiAgICAgIGFkZENoZTogew0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgIH0sDQoNCiAgICAgIGlzRGVsT2JqOiB7fSwNCg0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBmb3JtTGFiZWxXaWR0aDogIjEyMHB4IiwNCiAgICAgIGNpdHlDb2RlOiBbDQogICAgICAgIHsgaWQ6IDEsIGNpdHk6ICLkuIrmtbfluIIiLCBxdTogIum7hOa1puWMuiIsIGNvZGU6ICIwMSIgfSwNCiAgICAgICAgeyBpZDogMiwgY2l0eTogIuS4iua1t+W4giIsIHF1OiAi5b6Q5rGH5Yy6IiwgY29kZTogIjAyIiB9LA0KICAgICAgICB7IGlkOiAzLCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLplb/lroHljLoiLCBjb2RlOiAiMDMiIH0sDQogICAgICAgIHsgaWQ6IDQsIGNpdHk6ICLkuIrmtbfluIIiLCBxdTogIumdmeWuieWMuiIsIGNvZGU6ICIwNCIgfSwNCiAgICAgICAgeyBpZDogNSwgY2l0eTogIuS4iua1t+W4giIsIHF1OiAi5pmu6ZmA5Yy6IiwgY29kZTogIjA1IiB9LA0KICAgICAgICB7IGlkOiA2LCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLombnlj6PljLoiLCBjb2RlOiAiMDYiIH0sDQogICAgICAgIHsgaWQ6IDcsIGNpdHk6ICLkuIrmtbfluIIiLCBxdTogIuadqOa1puWMuiIsIGNvZGU6ICIwNyIgfSwNCiAgICAgICAgeyBpZDogOCwgY2l0eTogIuS4iua1t+W4giIsIHF1OiAi6Ze16KGM5Yy6IiwgY29kZTogIjA4IiB9LA0KICAgICAgICB7IGlkOiA5LCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLlrp3lsbHljLoiLCBjb2RlOiAiMDkiIH0sDQogICAgICAgIHsgaWQ6IDEwLCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLlmInlrprljLoiLCBjb2RlOiAiMTAiIH0sDQogICAgICAgIHsgaWQ6IDExLCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLmtabkuJzmlrDljLoiLCBjb2RlOiAiMTEiIH0sDQogICAgICAgIHsgaWQ6IDEyLCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLph5HlsbHljLoiLCBjb2RlOiAiMTIiIH0sDQogICAgICAgIHsgaWQ6IDEzLCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLmnb7msZ/ljLoiLCBjb2RlOiAiMTMiIH0sDQogICAgICAgIHsgaWQ6IDE0LCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLpnZLmtabljLoiLCBjb2RlOiAiMTQiIH0sDQogICAgICAgIHsgaWQ6IDE1LCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLlpYnotKTljLoiLCBjb2RlOiAiMTUiIH0sDQogICAgICAgIHsgaWQ6IDE2LCBjaXR5OiAi5LiK5rW35biCIiwgcXU6ICLltIfmmI7ljLoiLCBjb2RlOiAiMTYiIH0sDQogICAgICBdLA0KICAgICAgY3VycmVudFF1OiB7DQogICAgICAgIHF1OiAi6buE5rWm5Yy6IiwNCiAgICAgICAgdG93bnNoaXA6ICLlhajpg6jooZfpgZMiLA0KICAgICAgfSwNCiAgICAgIGRpc3RyaWN0TGlzdDogW10sDQogICAgfTsNCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0RGlzdHJpY3RMaXN0KCk7DQogICAgdGhpcy5nZXRRdVBvaW50RGF0YSgpOw0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoWyJpbnN0cnlUeXBlIiwgImRpc3RyaWN0T2JqIl0pLA0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBNdXRhdGlvbnMoWyJjaGFuZ2VpbnN0cnlUeXBlIiwgImdldENvb3JkaW5hdGUiXSksDQoNCiAgICBnZXREaXN0cmljdExpc3QoKSB7DQogICAgICB2YXIgZGlzdHJpY3RBcnIgPSB0aGlzLmRpc3RyaWN0T2JqLmRpc3RyaWN0TGlzdC5maW5kKA0KICAgICAgICAoZWxlKSA9PiBlbGUubmFtZSA9PT0gdGhpcy5jdXJyZW50UXUucXUNCiAgICAgICk7DQogICAgICBjb25zb2xlLmxvZygi5b2T5YmN5omA5pyJ6KGX6YGTIiwgZGlzdHJpY3RBcnIpOw0KICAgICAgdGhpcy5kaXN0cmljdExpc3QgPSBbeyBuYW1lOiAi5YWo6YOo6KGX6YGTIiB9LCAuLi5kaXN0cmljdEFyci5kaXN0cmljdExpc3RdOw0KICAgIH0sDQoNCiAgICAvLyDojrflj5bngrnmlbDmja4NCiAgICBhc3luYyBnZXRRdVBvaW50RGF0YSgpIHsNCiAgICAgIHZhciBxdWNvZGUgPSB0aGlzLmNpdHlDb2RlLmZpbmQoKGVsZSkgPT4gZWxlLnF1ID09PSB0aGlzLmN1cnJlbnRRdS5xdSk7DQogICAgICB2YXIgcmVzID0gbnVsbDsNCiAgICAgIHZhciBzdHIgPSAiL0xhbkxpbmUiICsgcXVjb2RlLmNvZGUgKyAiR2V0IjsNCiAgICAgIHJlcyA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldChzdHIgKyBzdHIpOw0KICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICBjb25zb2xlLmxvZygic3VjY2VzcyIsIHRoaXMuY3VycmVudFF1LnF1LCByZXMpOw0KICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmRhdGE7DQogICAgICAgIHRoaXMubWFpbkRhdGEgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBjaGFuZ2VEaXN0cmljdCgpIHsNCiAgICAgIHRoaXMuZ2V0RGlzdHJpY3RMaXN0KCk7DQogICAgICB0aGlzLmdldFF1UG9pbnREYXRhKCk7DQogICAgICB0aGlzLmN1cnJlbnRRdS50b3duc2hpcCA9ICLlhajpg6jooZfpgZMiOw0KICAgIH0sDQogICAgY2hhbmdlVG93bnNoaXAoKSB7DQogICAgICBpZiAodGhpcy5jdXJyZW50UXUudG93bnNoaXAgIT09ICLlhajpg6jooZfpgZMiKSB7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy5tYWluRGF0YTsNCiAgICAgICAgdmFyIG5ld3RhYmxlRGF0YSA9IHRoaXMubWFpbkRhdGEuZmlsdGVyKA0KICAgICAgICAgIChlbGUpID0+IGVsZS5hZGRyZXNzT2JqZWN0LnRvd25zaGlwID09PSB0aGlzLmN1cnJlbnRRdS50b3duc2hpcA0KICAgICAgICApOw0KICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IG5ld3RhYmxlRGF0YTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy5tYWluRGF0YTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYWRkVEYoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL0FkZExhbkxpbmVNYXAvYWRkIik7DQogICAgfSwNCiAgICBhc3luYyBwdXNoQ2FyKCkgew0KICAgICAgdGhpcy5hZGRDaGUuY2FyRGF0YS5wdXNoKHRoaXMuZm9ybSk7DQogICAgICB2YXIgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgNCiAgICAgICAgIi9MSlRNYWluRGF0YUVkaXQvTEpUTWFpbkRhdGFFZGl0IiwNCiAgICAgICAgdGhpcy5hZGRDaGUNCiAgICAgICk7DQogICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6ICLovabovobkv6Hmga/mt7vliqAiLA0KICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICB2YXIgcmVzMSA9ICIiOw0KICAgICAgICByZXMxID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KCIvVFNQYXJrRGF0YUdldC9UU1BhcmtEYXRhR2V0Iik7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzMS5kYXRhLmRhdGE7DQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOe8lui+keaMiemSrg0KICAgIGVkaXRNYWluKHJvdykgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9IZXJpdGFnZVByb1B1c2gvIiArIHJvdy5faWQpOw0KICAgIH0sDQoNCiAgIGRlbE1haW4ocm93KSB7DQogICAgICBjb25zb2xlLmxvZyhyb3cpOw0KICAgICAgdGhpcy5pc0RlbE9iaiA9IHJvdzsNCiAgICB9LA0KDQogICAgYXN5bmMgaXNkZWwoKSB7DQogICAgICB2YXIgcm93PXRoaXMuaXNEZWxPYmoNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93LnBvaW50QXJyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIHZhciBwb2ludCA9IHJvdy5wb2ludEFycltpXTsNCiAgICAgICAgdmFyIHBvaW50Y29kZSA9IHRoaXMuY2l0eUNvZGUuZmluZCgNCiAgICAgICAgICAoZWxlKSA9PiBlbGUucXUgPT09IHBvaW50LmFkZHJlc3NPYmplY3QuZGlzdHJpY3QNCiAgICAgICAgKTsNCiAgICAgICAgdmFyIHBvaW50Z2V0b25lID0gIi9MYW5Qb2ludCIgKyBwb2ludGNvZGUuY29kZSArICJHZXRPbmUiOw0KICAgICAgICB2YXIgcG9pbnRlZGl0ID0gIi9MYW5Qb2ludCIgKyBwb2ludGNvZGUuY29kZSArICJFZGl0IjsNCg0KICAgICAgICB2YXIgcG9pbnRtYWluID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgNCiAgICAgICAgICBwb2ludGdldG9uZSArIHBvaW50Z2V0b25lLA0KICAgICAgICAgIHBvaW50DQogICAgICAgICk7DQogICAgICAgIHBvaW50bWFpbiA9IHBvaW50bWFpbi5kYXRhLmRhdGFbMF07DQoNCiAgICAgICAgdmFyIGxpbmVpbmRleCA9IHBvaW50bWFpbi5saW5lQXJyLmZpbmRJbmRleCgNCiAgICAgICAgICAoZWxlKSA9PiBlbGUuX2lkID09PSByb3cuX2lkDQogICAgICAgICk7DQogICAgICAgIHBvaW50bWFpbi5saW5lQXJyLnNwbGljZShsaW5laW5kZXgsIDEpOw0KICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KHBvaW50ZWRpdCArIHBvaW50ZWRpdCwgcG9pbnRtYWluKTsNCiAgICAgIH0NCg0KICAgICAgdmFyIHF1Y29kZSA9IHRoaXMuY2l0eUNvZGUuZmluZCgoZWxlKSA9PiBlbGUucXUgPT09IHRoaXMuY3VycmVudFF1LnF1KTsNCiAgICAgIHZhciByZXMgPSBudWxsOw0KICAgICAgdmFyIHN0ciA9ICIvTGFuTGluZSIgKyBxdWNvZGUuY29kZSArICJSZW1vdmUiOw0KICAgICAgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdChzdHIgKyBzdHIsIHJvdyk7DQoNCiAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogIue8hue6v+WIoOmZpOaIkOWKnyIsDQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5nZXRRdVBvaW50RGF0YSgpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhc3luYyBkZWxDYXIoY2hlLCByb3cpIHsNCiAgICAgIHZhciBkYXRhID0gcm93Ow0KICAgICAgdmFyIGluZGV4ID0gcm93LmNhckRhdGEuZmluZEluZGV4KChlbGUpID0+IGVsZS5jYXJpZCA9PT0gY2hlLmNhcmlkKTsNCiAgICAgIHJvdy5jYXJEYXRhLnNwbGljZShpbmRleCwgMSk7DQogICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCg0KICAgICAgdmFyIHJlcyA9ICIiOw0KICAgICAgcmVzID0gYXdhaXQgdGhpcy4kYXhpb3MucG9zdCgiL0xKVE1haW5EYXRhRWRpdC9MSlRNYWluRGF0YUVkaXQiLCBkYXRhKTsNCiAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogIui9pui+huS/oeaBr+WIoOmZpOaIkOWKnyIsDQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["LanLineDataList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LanLineDataList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <!-- 数据管理 -->\r\n  <div class=\"data-manage\">\r\n    <div class=\"data-manage-bottom padding15\">\r\n      <div class=\"data-manage-buttons\">\r\n        <el-alert\r\n          title=\"二级用户（缆线维修人员）使用手机号以及默认密码作为用户名密码登录系统\"\r\n          type=\"success\"\r\n        >\r\n        </el-alert>\r\n        <br />\r\n        <div style=\"display: flex; align-items: center\">\r\n          <span style=\"margin-right: 15px\">\r\n            {{ currentQu.qu }}录入缆线总数:{{ tableData.length }}\r\n          </span>\r\n          <el-select\r\n            @change=\"changeDistrict\"\r\n            v-model=\"currentQu.qu\"\r\n            placeholder=\"请选择\"\r\n            style=\"width: 150px; margin-right: 15px\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in cityCode\"\r\n              :key=\"item.qu\"\r\n              :label=\"item.qu\"\r\n              :value=\"item.qu\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n          <el-select\r\n            @change=\"changeTownship\"\r\n            v-model=\"currentQu.township\"\r\n            placeholder=\"请选择\"\r\n            style=\"width: 150px\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in districtList\"\r\n              :key=\"item.name\"\r\n              :label=\"item.name\"\r\n              :value=\"item.name\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-plus\"\r\n            @click=\"addTF\"\r\n            style=\"margin-left: 15px\"\r\n            >录入新缆线信息</el-button\r\n          >\r\n        </div>\r\n        <br />\r\n        <el-table\r\n          border\r\n          stripe\r\n          :data=\"tableData\"\r\n          style=\"width: 100%\"\r\n          height=\"480\"\r\n        >\r\n          <el-table-column type=\"index\" label=\"序号\" width=\"60\" align=\"center\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"markName\" label=\"缆线名称 / 编号\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"linelength\" label=\"长度/㎞\" width=\"80\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"method\" label=\"纤芯\" width=\"80\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"property\" label=\"属性\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              <el-tag v-if=\"scope.row.property === '管线'\">管线</el-tag>\r\n              <el-tag v-if=\"scope.row.property === '飞线'\" type=\"success\"\r\n                >飞线</el-tag\r\n              >\r\n\r\n              <el-tag v-if=\"scope.row.property === '挂墙线'\" type=\"warning\"\r\n                >挂墙线</el-tag\r\n              >\r\n              <el-tag v-if=\"scope.row.property === '引上线'\" type=\"info\"\r\n                >引上线</el-tag\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"project\" label=\"资源属性\" width=\"100\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"state\" label=\"在网状态\" width=\"100\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"company\" label=\"产权单位\" width=\"150\">\r\n          </el-table-column>\r\n          <el-table-column prop=\"admin\" label=\"负责人\" width=\"80\">\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"editData\" label=\"最后更新日期\">\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" align=\"center\" width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <!-- <el-button type=\"text\" size=\"small\" @click=\"editMain(scope.row)\"\r\n                >编辑</el-button\r\n              > -->\r\n              <!-- <el-button type=\"text\" size=\"small\" @click=\"delMain(scope.row)\"\r\n                >删除</el-button\r\n              > -->\r\n              <el-popconfirm\r\n                title=\"当前为危险操作，确定删除吗？\"\r\n                @confirm=\"isdel\"\r\n              >\r\n                <el-button\r\n                  slot=\"reference\"\r\n                  @click=\"delMain(scope.row)\"\r\n                  type=\"text\"\r\n                  size=\"small\"\r\n                  >删除</el-button\r\n                >\r\n              </el-popconfirm>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      mainData: [],\r\n      addChe: {\r\n        name: \"\",\r\n      },\r\n\r\n      isDelObj: {},\r\n\r\n      dialogVisible: false,\r\n      formLabelWidth: \"120px\",\r\n      cityCode: [\r\n        { id: 1, city: \"上海市\", qu: \"黄浦区\", code: \"01\" },\r\n        { id: 2, city: \"上海市\", qu: \"徐汇区\", code: \"02\" },\r\n        { id: 3, city: \"上海市\", qu: \"长宁区\", code: \"03\" },\r\n        { id: 4, city: \"上海市\", qu: \"静安区\", code: \"04\" },\r\n        { id: 5, city: \"上海市\", qu: \"普陀区\", code: \"05\" },\r\n        { id: 6, city: \"上海市\", qu: \"虹口区\", code: \"06\" },\r\n        { id: 7, city: \"上海市\", qu: \"杨浦区\", code: \"07\" },\r\n        { id: 8, city: \"上海市\", qu: \"闵行区\", code: \"08\" },\r\n        { id: 9, city: \"上海市\", qu: \"宝山区\", code: \"09\" },\r\n        { id: 10, city: \"上海市\", qu: \"嘉定区\", code: \"10\" },\r\n        { id: 11, city: \"上海市\", qu: \"浦东新区\", code: \"11\" },\r\n        { id: 12, city: \"上海市\", qu: \"金山区\", code: \"12\" },\r\n        { id: 13, city: \"上海市\", qu: \"松江区\", code: \"13\" },\r\n        { id: 14, city: \"上海市\", qu: \"青浦区\", code: \"14\" },\r\n        { id: 15, city: \"上海市\", qu: \"奉贤区\", code: \"15\" },\r\n        { id: 16, city: \"上海市\", qu: \"崇明区\", code: \"16\" },\r\n      ],\r\n      currentQu: {\r\n        qu: \"黄浦区\",\r\n        township: \"全部街道\",\r\n      },\r\n      districtList: [],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.getDistrictList();\r\n    this.getQuPointData();\r\n  },\r\n\r\n  computed: {\r\n    ...mapState([\"instryType\", \"districtObj\"]),\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\"changeinstryType\", \"getCoordinate\"]),\r\n\r\n    getDistrictList() {\r\n      var districtArr = this.districtObj.districtList.find(\r\n        (ele) => ele.name === this.currentQu.qu\r\n      );\r\n      console.log(\"当前所有街道\", districtArr);\r\n      this.districtList = [{ name: \"全部街道\" }, ...districtArr.districtList];\r\n    },\r\n\r\n    // 获取点数据\r\n    async getQuPointData() {\r\n      var qucode = this.cityCode.find((ele) => ele.qu === this.currentQu.qu);\r\n      var res = null;\r\n      var str = \"/LanLine\" + qucode.code + \"Get\";\r\n      res = await this.$axios.get(str + str);\r\n      if (res.status === 200) {\r\n        console.log(\"success\", this.currentQu.qu, res);\r\n        this.tableData = res.data.data;\r\n        this.mainData = res.data.data;\r\n      }\r\n    },\r\n\r\n    changeDistrict() {\r\n      this.getDistrictList();\r\n      this.getQuPointData();\r\n      this.currentQu.township = \"全部街道\";\r\n    },\r\n    changeTownship() {\r\n      if (this.currentQu.township !== \"全部街道\") {\r\n        this.tableData = this.mainData;\r\n        var newtableData = this.mainData.filter(\r\n          (ele) => ele.addressObject.township === this.currentQu.township\r\n        );\r\n        this.tableData = newtableData;\r\n      } else {\r\n        this.tableData = this.mainData;\r\n      }\r\n    },\r\n\r\n    addTF() {\r\n      this.$router.push(\"/AddLanLineMap/add\");\r\n    },\r\n    async pushCar() {\r\n      this.addChe.carData.push(this.form);\r\n      var res = await this.$axios.post(\r\n        \"/LJTMainDataEdit/LJTMainDataEdit\",\r\n        this.addChe\r\n      );\r\n      if (res.status === 200) {\r\n        this.$message({\r\n          message: \"车辆信息添加\",\r\n          type: \"success\",\r\n        });\r\n        this.dialogVisible = false;\r\n        var res1 = \"\";\r\n        res1 = await this.$axios.get(\"/TSParkDataGet/TSParkDataGet\");\r\n        this.tableData = res1.data.data;\r\n      }\r\n    },\r\n\r\n    // 编辑按钮\r\n    editMain(row) {\r\n      this.$router.push(\"/HeritageProPush/\" + row._id);\r\n    },\r\n\r\n   delMain(row) {\r\n      console.log(row);\r\n      this.isDelObj = row;\r\n    },\r\n\r\n    async isdel() {\r\n      var row=this.isDelObj\r\n      for (let i = 0; i < row.pointArr.length; i++) {\r\n        var point = row.pointArr[i];\r\n        var pointcode = this.cityCode.find(\r\n          (ele) => ele.qu === point.addressObject.district\r\n        );\r\n        var pointgetone = \"/LanPoint\" + pointcode.code + \"GetOne\";\r\n        var pointedit = \"/LanPoint\" + pointcode.code + \"Edit\";\r\n\r\n        var pointmain = await this.$axios.post(\r\n          pointgetone + pointgetone,\r\n          point\r\n        );\r\n        pointmain = pointmain.data.data[0];\r\n\r\n        var lineindex = pointmain.lineArr.findIndex(\r\n          (ele) => ele._id === row._id\r\n        );\r\n        pointmain.lineArr.splice(lineindex, 1);\r\n        await this.$axios.post(pointedit + pointedit, pointmain);\r\n      }\r\n\r\n      var qucode = this.cityCode.find((ele) => ele.qu === this.currentQu.qu);\r\n      var res = null;\r\n      var str = \"/LanLine\" + qucode.code + \"Remove\";\r\n      res = await this.$axios.post(str + str, row);\r\n\r\n      if (res.status === 200) {\r\n        this.$message({\r\n          message: \"缆线删除成功\",\r\n          type: \"success\",\r\n        });\r\n        this.getQuPointData();\r\n      }\r\n    },\r\n\r\n    async delCar(che, row) {\r\n      var data = row;\r\n      var index = row.carData.findIndex((ele) => ele.carid === che.carid);\r\n      row.carData.splice(index, 1);\r\n      console.log(data);\r\n\r\n      var res = \"\";\r\n      res = await this.$axios.post(\"/LJTMainDataEdit/LJTMainDataEdit\", data);\r\n      if (res.status === 200) {\r\n        this.$message({\r\n          message: \"车辆信息删除成功\",\r\n          type: \"success\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}