{"remainingRequest":"D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\babel-loader\\lib\\index.js!D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\src\\views\\ImgSmall.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\src\\views\\ImgSmall.vue","mtime":1722591383425},{"path":"D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\babel.config.js","mtime":1638928724473},{"path":"D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Code Files\\VueFile\\阶段工作\\光缆资源平面展示系统（临时）\\webgis-gx1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5hdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v5Y6L57yp6LSo6YePCiAgICAgIGltZ1F1YWxpdHk6IDAuNSwKICAgICAgaW1hZ2VVcmw6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5LiK5Lyg5oiQ5YqfCiAgICBoYW5kbGVBdmF0YXJTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWNjZXNzKHJlcywgZmlsZSkgewogICAgICAvLyDmnI3liqHlmajov5Tlm57nu5PmnpzlpITnkIYKICAgICAgY29uc29sZS5sb2cocmVzLCBmaWxlKTsKICAgIH0sCiAgICBkYXRhVVJJdG9CbG9iOiBmdW5jdGlvbiBkYXRhVVJJdG9CbG9iKGRhdGFVUkksIHR5cGUpIHsKICAgICAgdmFyIGJpbmFyeSA9IGF0b2IoZGF0YVVSSS5zcGxpdCgiLCIpWzFdKTsKICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkrKykgewogICAgICAgIGFycmF5LnB1c2goYmluYXJ5LmNoYXJDb2RlQXQoaSkpOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IEJsb2IoW25ldyBVaW50OEFycmF5KGFycmF5KV0sIHsKICAgICAgICB0eXBlOiB0eXBlCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS4iuS8oOWJjQogICAgYmVmb3JlQXZhdGFyVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVBdmF0YXJVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7CgogICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uIChpbWFnZUV2ZW50KSB7CiAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2Uud2lkdGggKiBfdGhpcy5pbWdRdWFsaXR5OwogICAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmhlaWdodCAqIF90aGlzLmltZ1F1YWxpdHk7CiAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgICAgIHZhciBkYXRhVXJsID0gY2FudmFzLnRvRGF0YVVSTChmaWxlLnR5cGUpOwoKICAgICAgICAgIHZhciBibG9iRGF0YSA9IF90aGlzLmRhdGFVUkl0b0Jsb2IoZGF0YVVybCwgZmlsZS50eXBlKTsKCiAgICAgICAgICByZXNvbHZlKGJsb2JEYXRhKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGltYWdlRXZlbnQpOwogICAgICAgIH07CgogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgaW1hZ2Uuc3JjID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgIH07CgogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ImgSmall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,UAAA,EAAA,GAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AASA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,mBAFA,+BAEA,GAFA,EAEA,IAFA,EAEA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA;AACA,KALA;AAMA,IAAA,aANA,yBAMA,OANA,EAMA,IANA,EAMA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,OAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CAAA;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,CAAA,CAAA,CAAA;AACA;;AACA,aAAA,IAAA,IAAA,CAAA,CAAA,IAAA,UAAA,CAAA,KAAA,CAAA,CAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,CAAA;AACA,KAbA;AAeA;AACA,IAAA,kBAhBA,8BAgBA,IAhBA,EAgBA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,YAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,YAAA,KAAA,GAAA,IAAA,KAAA,EAAA;;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,UAAA,UAAA,EAAA;AACA,cAAA,MAAA,GAAA,QAAA,CAAA,aAAA,CAAA,QAAA,CAAA;AACA,cAAA,OAAA,GAAA,MAAA,CAAA,UAAA,CAAA,IAAA,CAAA;AACA,cAAA,KAAA,GAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,UAAA;AACA,cAAA,MAAA,GAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,UAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,MAAA;AACA,UAAA,OAAA,CAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,MAAA;AACA,UAAA,OAAA,CAAA,SAAA,CAAA,KAAA,EAAA,CAAA,EAAA,CAAA,EAAA,KAAA,EAAA,MAAA;AACA,cAAA,OAAA,GAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA;;AACA,cAAA,QAAA,GAAA,KAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,CAAA,IAAA,CAAA;;AACA,UAAA,OAAA,CAAA,QAAA,CAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,UAAA;AACA,SAbA;;AAcA,QAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,GAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,SAFA;;AAGA,QAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,OArBA,CAAA;AAsBA;AAxCA;AATA,CAAA","sourcesContent":["<template>\r\n  <div class=\"BecauseMain padding15\" style=\"height: calc(100vh - 20vh)\">\r\n    <br />\r\n    <br />\r\n\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <h3>图片大小处理</h3>\r\n      </div>\r\n      <p>光缆资源平面展示系统图片大小处理：测试页</p>\r\n    </el-card>\r\n\r\n    <el-divider></el-divider>\r\n    <!-- <el-form-item label=\"照片\">\r\n      <el-upload\r\n        accept=\"image/*\"\r\n        class=\"avatar-uploader\"\r\n        :action=\"uploadPath\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      >\r\n        <img v-if=\"imgUrl\" :src=\"imgUrl\" class=\"avatar\" />\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n      </el-upload>\r\n    </el-form-item> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //压缩质量\r\n      imgQuality: 0.5,\r\n      imageUrl: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    // 上传成功\r\n    handleAvatarSuccess(res, file) {\r\n      // 服务器返回结果处理\r\n      console.log(res,file)\r\n    },\r\n    dataURItoBlob(dataURI, type) {\r\n      var binary = atob(dataURI.split(\",\")[1]);\r\n      var array = [];\r\n      for (var i = 0; i < binary.length; i++) {\r\n        array.push(binary.charCodeAt(i));\r\n      }\r\n      return new Blob([new Uint8Array(array)], { type: type });\r\n    },\r\n\r\n    // 上传前\r\n    beforeAvatarUpload(file) {\r\n      const _this = this;\r\n      return new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        const image = new Image();\r\n        image.onload = (imageEvent) => {\r\n          const canvas = document.createElement(\"canvas\");\r\n          const context = canvas.getContext(\"2d\");\r\n          const width = image.width * _this.imgQuality;\r\n          const height = image.height * _this.imgQuality;\r\n          canvas.width = width;\r\n          canvas.height = height;\r\n          context.clearRect(0, 0, width, height);\r\n          context.drawImage(image, 0, 0, width, height);\r\n          const dataUrl = canvas.toDataURL(file.type);\r\n          const blobData = _this.dataURItoBlob(dataUrl, file.type);\r\n          resolve(blobData);\r\n          console.log(imageEvent)\r\n        };\r\n        reader.onload = (e) => {\r\n          image.src = e.target.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"sourceRoot":"src/views"}]}